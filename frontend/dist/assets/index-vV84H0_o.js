function Rf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ru={exports:{}},Ni={},Au={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Uf=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Mf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),Wf=Symbol.for("react.lazy"),Jo=Symbol.iterator;function Hf(e){return e===null||typeof e!="object"?null:(e=Jo&&e[Jo]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Uu={};function an(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||Lu}an.prototype.isReactComponent={};an.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};an.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Du(){}Du.prototype=an.prototype;function Bl(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||Lu}var ql=Bl.prototype=new Du;ql.constructor=Bl;$u(ql,an.prototype);ql.isPureReactComponent=!0;var Yo=Array.isArray,Mu=Object.prototype.hasOwnProperty,Vl={current:null},zu={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Mu.call(t,n)&&!zu.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:is,type:e,key:a,ref:l,props:s,_owner:Vl.current}}function Kf(e,t){return{$$typeof:is,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wl(e){return typeof e=="object"&&e!==null&&e.$$typeof===is}function Gf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zo=/\/+/g;function Zi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gf(""+e.key):t.toString(36)}function Ls(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case is:case $f:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+Zi(l,0):n,Yo(s)?(r="",e!=null&&(r=e.replace(Zo,"$&/")+"/"),Ls(s,t,r,"",function(u){return u})):s!=null&&(Wl(s)&&(s=Kf(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Zo,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",Yo(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Zi(a,o);l+=Ls(a,t,r,c,s)}else if(c=Hf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Zi(a,o++),l+=Ls(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ps(e,t,r){if(e==null)return e;var n=[],s=0;return Ls(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},$s={transition:null},Jf={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Vl};function Bu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:ps,forEach:function(e,t,r){ps(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ps(e,function(){t++}),t},toArray:function(e){return ps(e,function(t){return t})||[]},only:function(e){if(!Wl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=an;F.Fragment=Uf;F.Profiler=Mf;F.PureComponent=Bl;F.StrictMode=Df;F.Suspense=qf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;F.act=Bu;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=$u({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Vl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Mu.call(t,c)&&!zu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:is,type:e.type,key:s,ref:a,props:n,_owner:l}};F.createContext=function(e){return e={$$typeof:Ff,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zf,_context:e},e.Consumer=e};F.createElement=Fu;F.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Bf,render:e}};F.isValidElement=Wl;F.lazy=function(e){return{$$typeof:Wf,_payload:{_status:-1,_result:e},_init:Qf}};F.memo=function(e,t){return{$$typeof:Vf,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};F.unstable_act=Bu;F.useCallback=function(e,t){return be.current.useCallback(e,t)};F.useContext=function(e){return be.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return be.current.useDeferredValue(e)};F.useEffect=function(e,t){return be.current.useEffect(e,t)};F.useId=function(){return be.current.useId()};F.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return be.current.useMemo(e,t)};F.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};F.useRef=function(e){return be.current.useRef(e)};F.useState=function(e){return be.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return be.current.useTransition()};F.version="18.3.1";Au.exports=F;var N=Au.exports;const qu=Af(N),Yf=Rf({__proto__:null,default:qu},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=N,Xf=Symbol.for("react.element"),em=Symbol.for("react.fragment"),tm=Object.prototype.hasOwnProperty,rm=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nm={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)tm.call(t,n)&&!nm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Xf,type:e,key:a,ref:l,props:s,_owner:rm.current}}Ni.Fragment=em;Ni.jsx=Vu;Ni.jsxs=Vu;Ru.exports=Ni;var i=Ru.exports,Aa={},Wu={exports:{}},Le={},Hu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,L){var M=P.length;P.push(L);e:for(;0<M;){var J=M-1>>>1,O=P[J];if(0<s(O,L))P[J]=L,P[M]=O,M=J;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],M=P.pop();if(M!==L){P[0]=M;e:for(var J=0,O=P.length,Jt=O>>>1;J<Jt;){var Yt=2*(J+1)-1,Yi=P[Yt],Zt=Yt+1,ms=P[Zt];if(0>s(Yi,M))Zt<O&&0>s(ms,Yi)?(P[J]=ms,P[Zt]=M,J=Zt):(P[J]=Yi,P[Yt]=M,J=Yt);else if(Zt<O&&0>s(ms,M))P[J]=ms,P[Zt]=M,J=Zt;else break e}}return L}function s(P,L){var M=P.sortIndex-L.sortIndex;return M!==0?M:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],h=1,m=null,f=3,d=!1,v=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function b(P){if(g=!1,x(P),!v)if(r(c)!==null)v=!0,Ue(k);else{var L=r(u);L!==null&&jt(b,L.startTime-P)}}function k(P,L){v=!1,g&&(g=!1,y(S),S=-1),d=!0;var M=f;try{for(x(L),m=r(c);m!==null&&(!(m.expirationTime>L)||P&&!C());){var J=m.callback;if(typeof J=="function"){m.callback=null,f=m.priorityLevel;var O=J(m.expirationTime<=L);L=e.unstable_now(),typeof O=="function"?m.callback=O:m===r(c)&&n(c),x(L)}else n(c);m=r(c)}if(m!==null)var Jt=!0;else{var Yt=r(u);Yt!==null&&jt(b,Yt.startTime-L),Jt=!1}return Jt}finally{m=null,f=M,d=!1}}var w=!1,_=null,S=-1,A=5,I=-1;function C(){return!(e.unstable_now()-I<A)}function R(){if(_!==null){var P=e.unstable_now();I=P;var L=!0;try{L=_(!0,P)}finally{L?V():(w=!1,_=null)}}else w=!1}var V;if(typeof p=="function")V=function(){p(R)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,We=fe.port2;fe.port1.onmessage=R,V=function(){We.postMessage(null)}}else V=function(){j(R,0)};function Ue(P){_=P,w||(w=!0,V())}function jt(P,L){S=j(function(){P(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,Ue(k))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return P()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=f;f=P;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(P,L,M){var J=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?J+M:J):M=J,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=M+O,P={id:h++,callback:L,priorityLevel:P,startTime:M,expirationTime:O,sortIndex:-1},M>J?(P.sortIndex=M,t(u,P),r(c)===null&&P===r(u)&&(g?(y(S),S=-1):g=!0,jt(b,M-J))):(P.sortIndex=O,t(c,P),v||d||(v=!0,Ue(k))),P},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(P){var L=f;return function(){var M=f;f=L;try{return P.apply(this,arguments)}finally{f=M}}}})(Ku);Hu.exports=Ku;var sm=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=N,Ae=sm;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,Dn={};function wr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xo={},ec={};function lm(e){return La.call(ec,e)?!0:La.call(Xo,e)?!1:am.test(e)?ec[e]=!0:(Xo[e]=!0,!1)}function om(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cm(e,t,r,n){if(t===null||typeof t>"u"||om(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hl=/[\-:]([a-z])/g;function Kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hl,Kl);he[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hl,Kl);he[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hl,Kl);he[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gl(e,t,r,n){var s=he.hasOwnProperty(t)?he[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cm(t,r,s,n)&&(r=null),n||s===null?lm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vt=im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Ql=Symbol.for("react.strict_mode"),$a=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Ua=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Yl=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),tc=Symbol.iterator;function fn(e){return e===null||typeof e!="object"?null:(e=tc&&e[tc]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Xi;function jn(e){if(Xi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var ea=!1;function ta(e,t){if(!e||ea)return"";ea=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,o=a.length-1;1<=l&&0<=o&&s[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==a[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{ea=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?jn(e):""}function um(e){switch(e.tag){case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return jn("Suspense");case 19:return jn("SuspenseList");case 0:case 2:case 15:return e=ta(e.type,!1),e;case 11:return e=ta(e.type.render,!1),e;case 1:return e=ta(e.type,!0),e;default:return""}}function Ma(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Or:return"Fragment";case Ir:return"Portal";case $a:return"Profiler";case Ql:return"StrictMode";case Ua:return"Suspense";case Da:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ju:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yl:return t=e.displayName||null,t!==null?t:Ma(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Ma(e(t))}catch{}}return null}function dm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ma(t);case 8:return t===Ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hm(e){var t=Zu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xs(e){e._valueTracker||(e._valueTracker=hm(e))}function Xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Zu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function za(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ed(e,t){t=t.checked,t!=null&&Gl(e,"checked",t,!1)}function Fa(e,t){ed(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ba(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ba(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ba(e,t,r){(t!=="number"||Gs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _n=Array.isArray;function qr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(_n(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function td(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ic(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Va(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ys,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fm=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(e){fm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),En[t]=En[e]})});function sd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||En.hasOwnProperty(e)&&En[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=sd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mm=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wa(e,t){if(t){if(mm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function Ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function Zl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,Vr=null,Wr=null;function ac(e){if(e=os(e)){if(typeof Ga!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Pi(t),Ga(e.stateNode,e.type,t))}}function ad(e){Vr?Wr?Wr.push(e):Wr=[e]:Vr=e}function ld(){if(Vr){var e=Vr,t=Wr;if(Wr=Vr=null,ac(e),t)for(e=0;e<t.length;e++)ac(t[e])}}function od(e,t){return e(t)}function cd(){}var ra=!1;function ud(e,t,r){if(ra)return e(t,r);ra=!0;try{return od(e,t,r)}finally{ra=!1,(Vr!==null||Wr!==null)&&(cd(),ld())}}function zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Pi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Qa=!1;if(mt)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Qa=!1}function pm(e,t,r,n,s,a,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Cn=!1,Qs=null,Js=!1,Ja=null,gm={onError:function(e){Cn=!0,Qs=e}};function xm(e,t,r,n,s,a,l,o,c){Cn=!1,Qs=null,pm.apply(gm,arguments)}function ym(e,t,r,n,s,a,l,o,c){if(xm.apply(this,arguments),Cn){if(Cn){var u=Qs;Cn=!1,Qs=null}else throw Error(E(198));Js||(Js=!0,Ja=u)}}function br(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(br(e)!==e)throw Error(E(188))}function vm(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return lc(s),e;if(a===n)return lc(s),t;a=a.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,o=s.child;o;){if(o===r){l=!0,r=s,n=a;break}if(o===n){l=!0,n=s,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=s;break}if(o===n){l=!0,n=a,r=s;break}o=o.sibling}if(!l)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function hd(e){return e=vm(e),e!==null?fd(e):null}function fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fd(e);if(t!==null)return t;e=e.sibling}return null}var md=Ae.unstable_scheduleCallback,oc=Ae.unstable_cancelCallback,wm=Ae.unstable_shouldYield,bm=Ae.unstable_requestPaint,re=Ae.unstable_now,jm=Ae.unstable_getCurrentPriorityLevel,Xl=Ae.unstable_ImmediatePriority,pd=Ae.unstable_UserBlockingPriority,Ys=Ae.unstable_NormalPriority,_m=Ae.unstable_LowPriority,gd=Ae.unstable_IdlePriority,ki=null,st=null;function Nm(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ki,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Em,km=Math.log,Sm=Math.LN2;function Em(e){return e>>>=0,e===0?32:31-(km(e)/Sm|0)|0}var vs=64,ws=4194304;function Nn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~s;o!==0?n=Nn(o):(a&=l,a!==0&&(n=Nn(a)))}else l=r&~s,l!==0?n=Nn(l):a!==0&&(n=Nn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ze(t),s=1<<r,n|=e[r],t&=~s;return n}function Cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ze(a),o=1<<l,c=s[l];c===-1?(!(o&r)||o&n)&&(s[l]=Cm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Ya(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function na(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function as(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function Tm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ze(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function eo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ze(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,to,wd,bd,jd,Za=!1,bs=[],At=null,Lt=null,$t=null,Fn=new Map,Bn=new Map,Ct=[],Im="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function pn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=os(t),t!==null&&to(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Om(e,t,r,n,s){switch(t){case"focusin":return At=pn(At,e,t,r,n,s),!0;case"dragenter":return Lt=pn(Lt,e,t,r,n,s),!0;case"mouseover":return $t=pn($t,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Fn.set(a,pn(Fn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Bn.set(a,pn(Bn.get(a)||null,e,t,r,n,s)),!0}return!1}function _d(e){var t=ir(e.target);if(t!==null){var r=br(t);if(r!==null){if(t=r.tag,t===13){if(t=dd(r),t!==null){e.blockedOn=t,jd(e.priority,function(){wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Us(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ka=n,r.target.dispatchEvent(n),Ka=null}else return t=os(r),t!==null&&to(t),e.blockedOn=r,!1;t.shift()}return!0}function uc(e,t,r){Us(e)&&r.delete(t)}function Rm(){Za=!1,At!==null&&Us(At)&&(At=null),Lt!==null&&Us(Lt)&&(Lt=null),$t!==null&&Us($t)&&($t=null),Fn.forEach(uc),Bn.forEach(uc)}function gn(e,t){e.blockedOn===t&&(e.blockedOn=null,Za||(Za=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Rm)))}function qn(e){function t(s){return gn(s,e)}if(0<bs.length){gn(bs[0],e);for(var r=1;r<bs.length;r++){var n=bs[r];n.blockedOn===e&&(n.blockedOn=null)}}for(At!==null&&gn(At,e),Lt!==null&&gn(Lt,e),$t!==null&&gn($t,e),Fn.forEach(t),Bn.forEach(t),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)_d(r),r.blockedOn===null&&Ct.shift()}var Hr=vt.ReactCurrentBatchConfig,Xs=!0;function Am(e,t,r,n){var s=W,a=Hr.transition;Hr.transition=null;try{W=1,ro(e,t,r,n)}finally{W=s,Hr.transition=a}}function Lm(e,t,r,n){var s=W,a=Hr.transition;Hr.transition=null;try{W=4,ro(e,t,r,n)}finally{W=s,Hr.transition=a}}function ro(e,t,r,n){if(Xs){var s=Xa(e,t,r,n);if(s===null)fa(e,t,n,ei,r),cc(e,n);else if(Om(s,e,t,r,n))n.stopPropagation();else if(cc(e,n),t&4&&-1<Im.indexOf(e)){for(;s!==null;){var a=os(s);if(a!==null&&vd(a),a=Xa(e,t,r,n),a===null&&fa(e,t,n,ei,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else fa(e,t,n,null,r)}}var ei=null;function Xa(e,t,r,n){if(ei=null,e=Zl(n),e=ir(e),e!==null)if(t=br(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jm()){case Xl:return 1;case pd:return 4;case Ys:case _m:return 16;case gd:return 536870912;default:return 16}default:return 16}}var It=null,no=null,Ds=null;function kd(){if(Ds)return Ds;var e,t=no,r=t.length,n,s="value"in It?It.value:It.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return Ds=s.slice(e,1<n?1-n:void 0)}function Ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function js(){return!0}function dc(){return!1}function $e(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?js:dc,this.isPropagationStopped=dc,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=$e(ln),ls=ee({},ln,{view:0,detail:0}),$m=$e(ls),sa,ia,xn,Si=ee({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(sa=e.screenX-xn.screenX,ia=e.screenY-xn.screenY):ia=sa=0,xn=e),sa)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),hc=$e(Si),Um=ee({},Si,{dataTransfer:0}),Dm=$e(Um),Mm=ee({},ls,{relatedTarget:0}),aa=$e(Mm),zm=ee({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Fm=$e(zm),Bm=ee({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qm=$e(Bm),Vm=ee({},ln,{data:0}),fc=$e(Vm),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Km[e])?!!t[e]:!1}function io(){return Gm}var Qm=ee({},ls,{key:function(e){if(e.key){var t=Wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jm=$e(Qm),Ym=ee({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=$e(Ym),Zm=ee({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Xm=$e(Zm),ep=ee({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),tp=$e(ep),rp=ee({},Si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),np=$e(rp),sp=[9,13,27,32],ao=mt&&"CompositionEvent"in window,Pn=null;mt&&"documentMode"in document&&(Pn=document.documentMode);var ip=mt&&"TextEvent"in window&&!Pn,Sd=mt&&(!ao||Pn&&8<Pn&&11>=Pn),pc=" ",gc=!1;function Ed(e,t){switch(e){case"keyup":return sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function ap(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(gc=!0,pc);case"textInput":return e=t.data,e===pc&&gc?null:e;default:return null}}function lp(e,t){if(Rr)return e==="compositionend"||!ao&&Ed(e,t)?(e=kd(),Ds=no=It=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Pd(e,t,r,n){ad(n),t=ti(t,"onChange"),0<t.length&&(r=new so("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Vn=null;function cp(e){zd(e,0)}function Ei(e){var t=$r(e);if(Xu(t))return e}function up(e,t){if(e==="change")return t}var Td=!1;if(mt){var la;if(mt){var oa="oninput"in document;if(!oa){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),oa=typeof yc.oninput=="function"}la=oa}else la=!1;Td=la&&(!document.documentMode||9<document.documentMode)}function vc(){Tn&&(Tn.detachEvent("onpropertychange",Id),Vn=Tn=null)}function Id(e){if(e.propertyName==="value"&&Ei(Vn)){var t=[];Pd(t,Vn,e,Zl(e)),ud(cp,t)}}function dp(e,t,r){e==="focusin"?(vc(),Tn=t,Vn=r,Tn.attachEvent("onpropertychange",Id)):e==="focusout"&&vc()}function hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ei(Vn)}function fp(e,t){if(e==="click")return Ei(t)}function mp(e,t){if(e==="input"||e==="change")return Ei(t)}function pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:pp;function Wn(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!La.call(t,s)||!et(e[s],t[s]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var r=wc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wc(r)}}function Od(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Od(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rd(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gs(e.document)}return t}function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gp(e){var t=Rd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Od(r.ownerDocument.documentElement,r)){if(n!==null&&lo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=bc(r,a);var l=bc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xp=mt&&"documentMode"in document&&11>=document.documentMode,Ar=null,el=null,In=null,tl=!1;function jc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tl||Ar==null||Ar!==Gs(n)||(n=Ar,"selectionStart"in n&&lo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&Wn(In,n)||(In=n,n=ti(el,"onSelect"),0<n.length&&(t=new so("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ar)))}function _s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},ca={},Ad={};mt&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ci(e){if(ca[e])return ca[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ad)return ca[e]=t[r];return e}var Ld=Ci("animationend"),$d=Ci("animationiteration"),Ud=Ci("animationstart"),Dd=Ci("transitionend"),Md=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wt(e,t){Md.set(e,t),wr(t,[e])}for(var ua=0;ua<_c.length;ua++){var da=_c[ua],yp=da.toLowerCase(),vp=da[0].toUpperCase()+da.slice(1);Wt(yp,"on"+vp)}Wt(Ld,"onAnimationEnd");Wt($d,"onAnimationIteration");Wt(Ud,"onAnimationStart");Wt("dblclick","onDoubleClick");Wt("focusin","onFocus");Wt("focusout","onBlur");Wt(Dd,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function Nc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ym(n,t,void 0,e),e.currentTarget=null}function zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;Nc(s,o,u),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;Nc(s,o,u),a=c}}}if(Js)throw e=Ja,Js=!1,Ja=null,e}function G(e,t){var r=t[al];r===void 0&&(r=t[al]=new Set);var n=e+"__bubble";r.has(n)||(Fd(t,e,2,!1),r.add(n))}function ha(e,t,r){var n=0;t&&(n|=4),Fd(r,e,n,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Hn(e){if(!e[Ns]){e[Ns]=!0,Gu.forEach(function(r){r!=="selectionchange"&&(wp.has(r)||ha(r,!1,e),ha(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,ha("selectionchange",!1,t))}}function Fd(e,t,r,n){switch(Nd(t)){case 1:var s=Am;break;case 4:s=Lm;break;default:s=ro}r=s.bind(null,t,r,e),s=void 0,!Qa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function fa(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=ir(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}ud(function(){var u=a,h=Zl(r),m=[];e:{var f=Md.get(e);if(f!==void 0){var d=so,v=e;switch(e){case"keypress":if(Ms(r)===0)break e;case"keydown":case"keyup":d=Jm;break;case"focusin":v="focus",d=aa;break;case"focusout":v="blur",d=aa;break;case"beforeblur":case"afterblur":d=aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Dm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Xm;break;case Ld:case $d:case Ud:d=Fm;break;case Dd:d=tp;break;case"scroll":d=$m;break;case"wheel":d=np;break;case"copy":case"cut":case"paste":d=qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=mc}var g=(t&4)!==0,j=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var p=u,x;p!==null;){x=p;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=zn(p,y),b!=null&&g.push(Kn(p,b,x)))),j)break;p=p.return}0<g.length&&(f=new d(f,v,null,r,h),m.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==Ka&&(v=r.relatedTarget||r.fromElement)&&(ir(v)||v[pt]))break e;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(v=r.relatedTarget||r.toElement,d=u,v=v?ir(v):null,v!==null&&(j=br(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(g=hc,b="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(g=mc,b="onPointerLeave",y="onPointerEnter",p="pointer"),j=d==null?f:$r(d),x=v==null?f:$r(v),f=new g(b,p+"leave",d,r,h),f.target=j,f.relatedTarget=x,b=null,ir(h)===u&&(g=new g(y,p+"enter",v,r,h),g.target=x,g.relatedTarget=j,b=g),j=b,d&&v)t:{for(g=d,y=v,p=0,x=g;x;x=_r(x))p++;for(x=0,b=y;b;b=_r(b))x++;for(;0<p-x;)g=_r(g),p--;for(;0<x-p;)y=_r(y),x--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=_r(g),y=_r(y)}g=null}else g=null;d!==null&&kc(m,f,d,g,!1),v!==null&&j!==null&&kc(m,j,v,g,!0)}}e:{if(f=u?$r(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var k=up;else if(xc(f))if(Td)k=mp;else{k=hp;var w=dp}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=fp);if(k&&(k=k(e,u))){Pd(m,k,r,h);break e}w&&w(e,f,u),e==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&Ba(f,"number",f.value)}switch(w=u?$r(u):window,e){case"focusin":(xc(w)||w.contentEditable==="true")&&(Ar=w,el=u,In=null);break;case"focusout":In=el=Ar=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,jc(m,r,h);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":jc(m,r,h)}var _;if(ao)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rr?Ed(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Sd&&r.locale!=="ko"&&(Rr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Rr&&(_=kd()):(It=h,no="value"in It?It.value:It.textContent,Rr=!0)),w=ti(u,S),0<w.length&&(S=new fc(S,e,null,r,h),m.push({event:S,listeners:w}),_?S.data=_:(_=Cd(r),_!==null&&(S.data=_)))),(_=ip?ap(e,r):lp(e,r))&&(u=ti(u,"onBeforeInput"),0<u.length&&(h=new fc("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=_))}zd(m,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ti(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=zn(e,r),a!=null&&n.unshift(Kn(e,a,s)),a=zn(e,t),a!=null&&n.push(Kn(e,a,s))),e=e.return}return n}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=zn(r,a),c!=null&&l.unshift(Kn(r,c,o))):s||(c=zn(r,a),c!=null&&l.push(Kn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var bp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(bp,`
`).replace(jp,"")}function ks(e,t,r){if(t=Sc(t),Sc(e)!==t&&r)throw Error(E(425))}function ri(){}var rl=null,nl=null;function sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var il=typeof setTimeout=="function"?setTimeout:void 0,_p=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(kp)}:il;function kp(e){setTimeout(function(){throw e})}function ma(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),qn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qn(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),nt="__reactFiber$"+on,Gn="__reactProps$"+on,pt="__reactContainer$"+on,al="__reactEvents$"+on,Sp="__reactListeners$"+on,Ep="__reactHandles$"+on;function ir(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pt]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cc(e);e!==null;){if(r=e[nt])return r;e=Cc(e)}return t}e=r,r=e.parentNode}return null}function os(e){return e=e[nt]||e[pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Pi(e){return e[Gn]||null}var ll=[],Ur=-1;function Ht(e){return{current:e}}function Q(e){0>Ur||(e.current=ll[Ur],ll[Ur]=null,Ur--)}function K(e,t){Ur++,ll[Ur]=e.current,e.current=t}var Vt={},ye=Ht(Vt),Ee=Ht(!1),fr=Vt;function Jr(e,t){var r=e.type.contextTypes;if(!r)return Vt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(e){return e=e.childContextTypes,e!=null}function ni(){Q(Ee),Q(ye)}function Pc(e,t,r){if(ye.current!==Vt)throw Error(E(168));K(ye,t),K(Ee,r)}function Bd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,dm(e)||"Unknown",s));return ee({},r,n)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vt,fr=ye.current,K(ye,e),K(Ee,Ee.current),!0}function Tc(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Bd(e,t,fr),n.__reactInternalMemoizedMergedChildContext=e,Q(Ee),Q(ye),K(ye,e)):Q(Ee),K(Ee,r)}var ut=null,Ti=!1,pa=!1;function qd(e){ut===null?ut=[e]:ut.push(e)}function Cp(e){Ti=!0,qd(e)}function Kt(){if(!pa&&ut!==null){pa=!0;var e=0,t=W;try{var r=ut;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,Ti=!1}catch(s){throw ut!==null&&(ut=ut.slice(e+1)),md(Xl,Kt),s}finally{W=t,pa=!1}}return null}var Dr=[],Mr=0,ii=null,ai=0,De=[],Me=0,mr=null,dt=1,ht="";function tr(e,t){Dr[Mr++]=ai,Dr[Mr++]=ii,ii=e,ai=t}function Vd(e,t,r){De[Me++]=dt,De[Me++]=ht,De[Me++]=mr,mr=e;var n=dt;e=ht;var s=32-Ze(n)-1;n&=~(1<<s),r+=1;var a=32-Ze(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,dt=1<<32-Ze(t)+s|r<<s|n,ht=a+e}else dt=1<<a|r<<s|n,ht=e}function oo(e){e.return!==null&&(tr(e,1),Vd(e,1,0))}function co(e){for(;e===ii;)ii=Dr[--Mr],Dr[Mr]=null,ai=Dr[--Mr],Dr[Mr]=null;for(;e===mr;)mr=De[--Me],De[Me]=null,ht=De[--Me],De[Me]=null,dt=De[--Me],De[Me]=null}var Re=null,Oe=null,Y=!1,Ye=null;function Wd(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,Oe=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:dt,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Re=e,Oe=null,!0):!1;default:return!1}}function ol(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cl(e){if(Y){var t=Oe;if(t){var r=t;if(!Ic(e,t)){if(ol(e))throw Error(E(418));t=Ut(r.nextSibling);var n=Re;t&&Ic(e,t)?Wd(n,r):(e.flags=e.flags&-4097|2,Y=!1,Re=e)}}else{if(ol(e))throw Error(E(418));e.flags=e.flags&-4097|2,Y=!1,Re=e}}}function Oc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function Ss(e){if(e!==Re)return!1;if(!Y)return Oc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sl(e.type,e.memoizedProps)),t&&(t=Oe)){if(ol(e))throw Hd(),Error(E(418));for(;t;)Wd(e,t),t=Ut(t.nextSibling)}if(Oc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Oe=Ut(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Re?Ut(e.stateNode.nextSibling):null;return!0}function Hd(){for(var e=Oe;e;)e=Ut(e.nextSibling)}function Yr(){Oe=Re=null,Y=!1}function uo(e){Ye===null?Ye=[e]:Ye.push(e)}var Pp=vt.ReactCurrentBatchConfig;function yn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=s.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rc(e){var t=e._init;return t(e._payload)}function Kd(e){function t(y,p){if(e){var x=y.deletions;x===null?(y.deletions=[p],y.flags|=16):x.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Ft(y,p),y.index=0,y.sibling=null,y}function a(y,p,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<p?(y.flags|=2,p):x):(y.flags|=2,p)):(y.flags|=1048576,p)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,p,x,b){return p===null||p.tag!==6?(p=ja(x,y.mode,b),p.return=y,p):(p=s(p,x),p.return=y,p)}function c(y,p,x,b){var k=x.type;return k===Or?h(y,p,x.props.children,b,x.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===St&&Rc(k)===p.type)?(b=s(p,x.props),b.ref=yn(y,p,x),b.return=y,b):(b=Hs(x.type,x.key,x.props,null,y.mode,b),b.ref=yn(y,p,x),b.return=y,b)}function u(y,p,x,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=_a(x,y.mode,b),p.return=y,p):(p=s(p,x.children||[]),p.return=y,p)}function h(y,p,x,b,k){return p===null||p.tag!==7?(p=ur(x,y.mode,b,k),p.return=y,p):(p=s(p,x),p.return=y,p)}function m(y,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ja(""+p,y.mode,x),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gs:return x=Hs(p.type,p.key,p.props,null,y.mode,x),x.ref=yn(y,null,p),x.return=y,x;case Ir:return p=_a(p,y.mode,x),p.return=y,p;case St:var b=p._init;return m(y,b(p._payload),x)}if(_n(p)||fn(p))return p=ur(p,y.mode,x,null),p.return=y,p;Es(y,p)}return null}function f(y,p,x,b){var k=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:o(y,p,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gs:return x.key===k?c(y,p,x,b):null;case Ir:return x.key===k?u(y,p,x,b):null;case St:return k=x._init,f(y,p,k(x._payload),b)}if(_n(x)||fn(x))return k!==null?null:h(y,p,x,b,null);Es(y,x)}return null}function d(y,p,x,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,o(p,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gs:return y=y.get(b.key===null?x:b.key)||null,c(p,y,b,k);case Ir:return y=y.get(b.key===null?x:b.key)||null,u(p,y,b,k);case St:var w=b._init;return d(y,p,x,w(b._payload),k)}if(_n(b)||fn(b))return y=y.get(x)||null,h(p,y,b,k,null);Es(p,b)}return null}function v(y,p,x,b){for(var k=null,w=null,_=p,S=p=0,A=null;_!==null&&S<x.length;S++){_.index>S?(A=_,_=null):A=_.sibling;var I=f(y,_,x[S],b);if(I===null){_===null&&(_=A);break}e&&_&&I.alternate===null&&t(y,_),p=a(I,p,S),w===null?k=I:w.sibling=I,w=I,_=A}if(S===x.length)return r(y,_),Y&&tr(y,S),k;if(_===null){for(;S<x.length;S++)_=m(y,x[S],b),_!==null&&(p=a(_,p,S),w===null?k=_:w.sibling=_,w=_);return Y&&tr(y,S),k}for(_=n(y,_);S<x.length;S++)A=d(_,y,S,x[S],b),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?S:A.key),p=a(A,p,S),w===null?k=A:w.sibling=A,w=A);return e&&_.forEach(function(C){return t(y,C)}),Y&&tr(y,S),k}function g(y,p,x,b){var k=fn(x);if(typeof k!="function")throw Error(E(150));if(x=k.call(x),x==null)throw Error(E(151));for(var w=k=null,_=p,S=p=0,A=null,I=x.next();_!==null&&!I.done;S++,I=x.next()){_.index>S?(A=_,_=null):A=_.sibling;var C=f(y,_,I.value,b);if(C===null){_===null&&(_=A);break}e&&_&&C.alternate===null&&t(y,_),p=a(C,p,S),w===null?k=C:w.sibling=C,w=C,_=A}if(I.done)return r(y,_),Y&&tr(y,S),k;if(_===null){for(;!I.done;S++,I=x.next())I=m(y,I.value,b),I!==null&&(p=a(I,p,S),w===null?k=I:w.sibling=I,w=I);return Y&&tr(y,S),k}for(_=n(y,_);!I.done;S++,I=x.next())I=d(_,y,S,I.value,b),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?S:I.key),p=a(I,p,S),w===null?k=I:w.sibling=I,w=I);return e&&_.forEach(function(R){return t(y,R)}),Y&&tr(y,S),k}function j(y,p,x,b){if(typeof x=="object"&&x!==null&&x.type===Or&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gs:e:{for(var k=x.key,w=p;w!==null;){if(w.key===k){if(k=x.type,k===Or){if(w.tag===7){r(y,w.sibling),p=s(w,x.props.children),p.return=y,y=p;break e}}else if(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===St&&Rc(k)===w.type){r(y,w.sibling),p=s(w,x.props),p.ref=yn(y,w,x),p.return=y,y=p;break e}r(y,w);break}else t(y,w);w=w.sibling}x.type===Or?(p=ur(x.props.children,y.mode,b,x.key),p.return=y,y=p):(b=Hs(x.type,x.key,x.props,null,y.mode,b),b.ref=yn(y,p,x),b.return=y,y=b)}return l(y);case Ir:e:{for(w=x.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(y,p.sibling),p=s(p,x.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else t(y,p);p=p.sibling}p=_a(x,y.mode,b),p.return=y,y=p}return l(y);case St:return w=x._init,j(y,p,w(x._payload),b)}if(_n(x))return v(y,p,x,b);if(fn(x))return g(y,p,x,b);Es(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,x),p.return=y,y=p):(r(y,p),p=ja(x,y.mode,b),p.return=y,y=p),l(y)):r(y,p)}return j}var Zr=Kd(!0),Gd=Kd(!1),li=Ht(null),oi=null,zr=null,ho=null;function fo(){ho=zr=oi=null}function mo(e){var t=li.current;Q(li),e._currentValue=t}function ul(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kr(e,t){oi=e,ho=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(ho!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(oi===null)throw Error(E(308));zr=e,oi.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var ar=null;function po(e){ar===null?ar=[e]:ar.push(e)}function Qd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,po(t)):(r.next=s.next,s.next=r),t.interleaved=r,gt(e,n)}function gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Et=!1;function go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,gt(e,r)}return s=n.interleaved,s===null?(t.next=t,po(n)):(t.next=s.next,s.next=t),n.interleaved=t,gt(e,r)}function zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eo(e,r)}}function Ac(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ci(e,t,r,n){var s=e.updateQueue;Et=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?a=u:l.next=u,l=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==l&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;l=0,h=u=c=null,o=a;do{var f=o.lane,d=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,g=o;switch(f=t,d=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(d,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(d,m,f):v,f==null)break e;m=ee({},m,f);break e;case 2:Et=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=d,c=m):h=h.next=d,l|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);gr|=l,e.lanes=l,e.memoizedState=m}}function Lc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var cs={},it=Ht(cs),Qn=Ht(cs),Jn=Ht(cs);function lr(e){if(e===cs)throw Error(E(174));return e}function xo(e,t){switch(K(Jn,t),K(Qn,e),K(it,cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Va(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Va(t,e)}Q(it),K(it,t)}function Xr(){Q(it),Q(Qn),Q(Jn)}function Yd(e){lr(Jn.current);var t=lr(it.current),r=Va(t,e.type);t!==r&&(K(Qn,e),K(it,r))}function yo(e){Qn.current===e&&(Q(it),Q(Qn))}var Z=Ht(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function vo(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var Fs=vt.ReactCurrentDispatcher,xa=vt.ReactCurrentBatchConfig,pr=0,X=null,ie=null,oe=null,di=!1,On=!1,Yn=0,Tp=0;function me(){throw Error(E(321))}function wo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!et(e[r],t[r]))return!1;return!0}function bo(e,t,r,n,s,a){if(pr=a,X=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?Ap:Lp,e=r(n,s),On){a=0;do{if(On=!1,Yn=0,25<=a)throw Error(E(301));a+=1,oe=ie=null,t.updateQueue=null,Fs.current=$p,e=r(n,s)}while(On)}if(Fs.current=hi,t=ie!==null&&ie.next!==null,pr=0,oe=ie=X=null,di=!1,t)throw Error(E(300));return e}function jo(){var e=Yn!==0;return Yn=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?X.memoizedState=oe=e:oe=oe.next=e,oe}function Ve(){if(ie===null){var e=X.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=oe===null?X.memoizedState:oe.next;if(t!==null)oe=t,ie=e;else{if(e===null)throw Error(E(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},oe===null?X.memoizedState=oe=e:oe=oe.next=e}return oe}function Zn(e,t){return typeof t=="function"?t(e):t}function ya(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var o=l=null,c=null,u=a;do{var h=u.lane;if((pr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,X.lanes|=h,gr|=h}u=u.next}while(u!==null&&u!==a);c===null?l=n:c.next=o,et(n,t.memoizedState)||(Se=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,X.lanes|=a,gr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function va(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);et(a,t.memoizedState)||(Se=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Zd(){}function Xd(e,t){var r=X,n=Ve(),s=t(),a=!et(n.memoizedState,s);if(a&&(n.memoizedState=s,Se=!0),n=n.queue,_o(rh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||oe!==null&&oe.memoizedState.tag&1){if(r.flags|=2048,Xn(9,th.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(E(349));pr&30||eh(r,t,s)}return s}function eh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function th(e,t,r,n){t.value=r,t.getSnapshot=n,nh(t)&&sh(e)}function rh(e,t,r){return r(function(){nh(t)&&sh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!et(e,r)}catch{return!0}}function sh(e){var t=gt(e,1);t!==null&&Xe(t,e,1,-1)}function $c(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Rp.bind(null,X,e),[t.memoizedState,e]}function Xn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=X.updateQueue,t===null?(t={lastEffect:null,stores:null},X.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ih(){return Ve().memoizedState}function Bs(e,t,r,n){var s=rt();X.flags|=e,s.memoizedState=Xn(1|t,r,void 0,n===void 0?null:n)}function Ii(e,t,r,n){var s=Ve();n=n===void 0?null:n;var a=void 0;if(ie!==null){var l=ie.memoizedState;if(a=l.destroy,n!==null&&wo(n,l.deps)){s.memoizedState=Xn(t,r,a,n);return}}X.flags|=e,s.memoizedState=Xn(1|t,r,a,n)}function Uc(e,t){return Bs(8390656,8,e,t)}function _o(e,t){return Ii(2048,8,e,t)}function ah(e,t){return Ii(4,2,e,t)}function lh(e,t){return Ii(4,4,e,t)}function oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,r){return r=r!=null?r.concat([e]):null,Ii(4,4,oh.bind(null,t,e),r)}function No(){}function uh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hh(e,t,r){return pr&21?(et(r,t)||(r=xd(),X.lanes|=r,gr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=r)}function Ip(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=xa.transition;xa.transition={};try{e(!1),t()}finally{W=r,xa.transition=n}}function fh(){return Ve().memoizedState}function Op(e,t,r){var n=zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mh(e))ph(t,r);else if(r=Qd(e,t,r,n),r!==null){var s=we();Xe(r,e,n,s),gh(r,t,n)}}function Rp(e,t,r){var n=zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mh(e))ph(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(s.hasEagerState=!0,s.eagerState=o,et(o,l)){var c=t.interleaved;c===null?(s.next=s,po(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Qd(e,t,s,n),r!==null&&(s=we(),Xe(r,e,n,s),gh(r,t,n))}}function mh(e){var t=e.alternate;return e===X||t!==null&&t===X}function ph(e,t){On=di=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function gh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eo(e,r)}}var hi={readContext:qe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Ap={readContext:qe,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Uc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Bs(4194308,4,oh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Op.bind(null,X,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:No,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=Ip.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=X,s=rt();if(Y){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ce===null)throw Error(E(349));pr&30||eh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Uc(rh.bind(null,n,a,e),[e]),n.flags|=2048,Xn(9,th.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=rt(),t=ce.identifierPrefix;if(Y){var r=ht,n=dt;r=(n&~(1<<32-Ze(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lp={readContext:qe,useCallback:uh,useContext:qe,useEffect:_o,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:dh,useReducer:ya,useRef:ih,useState:function(){return ya(Zn)},useDebugValue:No,useDeferredValue:function(e){var t=Ve();return hh(t,ie.memoizedState,e)},useTransition:function(){var e=ya(Zn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:Xd,useId:fh,unstable_isNewReconciler:!1},$p={readContext:qe,useCallback:uh,useContext:qe,useEffect:_o,useImperativeHandle:ch,useInsertionEffect:ah,useLayoutEffect:lh,useMemo:dh,useReducer:va,useRef:ih,useState:function(){return va(Zn)},useDebugValue:No,useDeferredValue:function(e){var t=Ve();return ie===null?t.memoizedState=e:hh(t,ie.memoizedState,e)},useTransition:function(){var e=va(Zn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:Xd,useId:fh,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Oi={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=we(),s=zt(e),a=ft(n,s);a.payload=t,r!=null&&(a.callback=r),t=Dt(e,a,s),t!==null&&(Xe(t,e,s,n),zs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=we(),s=zt(e),a=ft(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Dt(e,a,s),t!==null&&(Xe(t,e,s,n),zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=we(),n=zt(e),s=ft(r,n);s.tag=2,t!=null&&(s.callback=t),t=Dt(e,s,n),t!==null&&(Xe(t,e,n,r),zs(t,e,n))}};function Dc(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Wn(r,n)||!Wn(s,a):!0}function xh(e,t,r){var n=!1,s=Vt,a=t.contextType;return typeof a=="object"&&a!==null?a=qe(a):(s=Ce(t)?fr:ye.current,n=t.contextTypes,a=(n=n!=null)?Jr(e,s):Vt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Mc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function hl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},go(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=qe(a):(a=Ce(t)?fr:ye.current,s.context=Jr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),ci(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function en(e,t){try{var r="",n=t;do r+=um(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function wa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Up=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,r){r=ft(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mi||(mi=!0,_l=n),fl(e,t)},r}function vh(e,t,r){r=ft(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){fl(e,t),typeof n!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function zc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Up;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Yp.bind(null,e,t,r),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ft(-1,1),t.tag=2,Dt(r,t,1))),r.lanes|=1),e)}var Dp=vt.ReactCurrentOwner,Se=!1;function ve(e,t,r,n){t.child=e===null?Gd(t,null,r,n):Zr(t,e.child,r,n)}function qc(e,t,r,n,s){r=r.render;var a=t.ref;return Kr(t,s),n=bo(e,t,r,n,a,s),r=jo(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(Y&&r&&oo(t),t.flags|=1,ve(e,t,n,s),t.child)}function Vc(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Oo(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,wh(e,t,a,n,s)):(e=Hs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(l,n)&&e.ref===t.ref)return xt(e,t,s)}return t.flags|=1,e=Ft(a,n),e.ref=t.ref,e.return=t,t.child=e}function wh(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Wn(a,n)&&e.ref===t.ref)if(Se=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,xt(e,t,s)}return ml(e,t,r,n,s)}function bh(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Br,Ie),Ie|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Br,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,K(Br,Ie),Ie|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,K(Br,Ie),Ie|=n;return ve(e,t,s,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,r,n,s){var a=Ce(r)?fr:ye.current;return a=Jr(t,a),Kr(t,s),r=bo(e,t,r,n,a,s),n=jo(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xt(e,t,s)):(Y&&n&&oo(t),t.flags|=1,ve(e,t,r,s),t.child)}function Wc(e,t,r,n,s){if(Ce(r)){var a=!0;si(t)}else a=!1;if(Kr(t,s),t.stateNode===null)qs(e,t),xh(t,r,n),hl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Ce(r)?fr:ye.current,u=Jr(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Mc(t,l,n,u),Et=!1;var f=t.memoizedState;l.state=f,ci(t,n,l,s),c=t.memoizedState,o!==n||f!==c||Ee.current||Et?(typeof h=="function"&&(dl(t,r,h,n),c=t.memoizedState),(o=Et||Dc(t,r,o,n,f,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Jd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ge(t.type,o),l.props=u,m=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=qe(c):(c=Ce(r)?fr:ye.current,c=Jr(t,c));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Mc(t,l,n,c),Et=!1,f=t.memoizedState,l.state=f,ci(t,n,l,s);var v=t.memoizedState;o!==m||f!==v||Ee.current||Et?(typeof d=="function"&&(dl(t,r,d,n),v=t.memoizedState),(u=Et||Dc(t,r,u,n,f,v,c)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),l.props=n,l.state=v,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return pl(e,t,r,n,a,s)}function pl(e,t,r,n,s,a){jh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Tc(t,r,!1),xt(e,t,a);n=t.stateNode,Dp.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Zr(t,e.child,null,a),t.child=Zr(t,null,o,a)):ve(e,t,o,a),t.memoizedState=n.state,s&&Tc(t,r,!0),t.child}function _h(e){var t=e.stateNode;t.pendingContext?Pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pc(e,t.context,!1),xo(e,t.containerInfo)}function Hc(e,t,r,n,s){return Yr(),uo(s),t.flags|=256,ve(e,t,r,n),t.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nh(e,t,r){var n=t.pendingProps,s=Z.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(Z,s&1),e===null)return cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Li(l,n,0,null),e=ur(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xl(r),t.memoizedState=gl,e):ko(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Mp(e,t,l,n,o,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ft(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=Ft(o,a):(a=ur(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?xl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=gl,n}return a=e.child,e=a.sibling,n=Ft(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ko(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cs(e,t,r,n){return n!==null&&uo(n),Zr(t,e.child,null,r),e=ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mp(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=wa(Error(E(422))),Cs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Li({mode:"visible",children:n.children},s,0,null),a=ur(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Zr(t,e.child,null,l),t.child.memoizedState=xl(l),t.memoizedState=gl,a);if(!(t.mode&1))return Cs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(E(419)),n=wa(a,n,void 0),Cs(e,t,l,n)}if(o=(l&e.childLanes)!==0,Se||o){if(n=ce,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,gt(e,s),Xe(n,e,s,-1))}return Io(),n=wa(Error(E(421))),Cs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Oe=Ut(s.nextSibling),Re=t,Y=!0,Ye=null,e!==null&&(De[Me++]=dt,De[Me++]=ht,De[Me++]=mr,dt=e.id,ht=e.overflow,mr=t),t=ko(t,n.children),t.flags|=4096,t)}function Kc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ul(e.return,t,r)}function ba(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function kh(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ve(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,t);else if(e.tag===19)Kc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(K(Z,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ui(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ba(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ba(t,!0,r,null,a);break;case"together":ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Ft(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ft(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zp(e,t,r){switch(t.tag){case 3:_h(t),Yr();break;case 5:Yd(t);break;case 1:Ce(t.type)&&si(t);break;case 4:xo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;K(li,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(K(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?Nh(e,t,r):(K(Z,Z.current&1),e=xt(e,t,r),e!==null?e.sibling:null);K(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,bh(e,t,r)}return xt(e,t,r)}var Sh,yl,Eh,Ch;Sh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yl=function(){};Eh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,lr(it.current);var a=null;switch(r){case"input":s=za(e,s),n=za(e,n),a=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),a=[];break;case"textarea":s=qa(e,s),n=qa(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ri)}Wa(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dn.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&G("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ch=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Fp(e,t,r){var n=t.pendingProps;switch(co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(t),null;case 1:return Ce(t.type)&&ni(),pe(t),null;case 3:return n=t.stateNode,Xr(),Q(Ee),Q(ye),vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(Sl(Ye),Ye=null))),yl(e,t),pe(t),null;case 5:yo(t);var s=lr(Jn.current);if(r=t.type,e!==null&&t.stateNode!=null)Eh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return pe(t),null}if(e=lr(it.current),Ss(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[nt]=t,n[Gn]=a,e=(t.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<kn.length;s++)G(kn[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":rc(n,a),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},G("invalid",n);break;case"textarea":sc(n,a),G("invalid",n)}Wa(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ks(n.textContent,o,e),s=["children",""+o]):Dn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&G("scroll",n)}switch(r){case"input":xs(n),nc(n,a,!0);break;case"textarea":xs(n),ic(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ri)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[nt]=t,e[Gn]=n,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ha(r,n),r){case"dialog":G("cancel",e),G("close",e),s=n;break;case"iframe":case"object":case"embed":G("load",e),s=n;break;case"video":case"audio":for(s=0;s<kn.length;s++)G(kn[s],e);s=n;break;case"source":G("error",e),s=n;break;case"img":case"image":case"link":G("error",e),G("load",e),s=n;break;case"details":G("toggle",e),s=n;break;case"input":rc(e,n),s=za(e,n),G("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),G("invalid",e);break;case"textarea":sc(e,n),s=qa(e,n),G("invalid",e);break;default:s=n}Wa(r,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?id(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nd(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mn(e,c):typeof c=="number"&&Mn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Dn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&G("scroll",e):c!=null&&Gl(e,a,c,l))}switch(r){case"input":xs(e),nc(e,n,!1);break;case"textarea":xs(e),ic(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?qr(e,!!n.multiple,a,!1):n.defaultValue!=null&&qr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ri)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pe(t),null;case 6:if(e&&t.stateNode!=null)Ch(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=lr(Jn.current),lr(it.current),Ss(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(a=n.nodeValue!==r)&&(e=Re,e!==null))switch(e.tag){case 3:ks(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return pe(t),null;case 13:if(Q(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Oe!==null&&t.mode&1&&!(t.flags&128))Hd(),Yr(),t.flags|=98560,a=!1;else if(a=Ss(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(E(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(E(317));a[nt]=t}else Yr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pe(t),a=!1}else Ye!==null&&(Sl(Ye),Ye=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):Io())),t.updateQueue!==null&&(t.flags|=4),pe(t),null);case 4:return Xr(),yl(e,t),e===null&&Hn(t.stateNode.containerInfo),pe(t),null;case 10:return mo(t.type._context),pe(t),null;case 17:return Ce(t.type)&&ni(),pe(t),null;case 19:if(Q(Z),a=t.memoizedState,a===null)return pe(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)vn(a,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ui(e),l!==null){for(t.flags|=128,vn(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(Z,Z.current&1|2),t.child}e=e.sibling}a.tail!==null&&re()>tn&&(t.flags|=128,n=!0,vn(a,!1),t.lanes=4194304)}else{if(!n)if(e=ui(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Y)return pe(t),null}else 2*re()-a.renderingStartTime>tn&&r!==1073741824&&(t.flags|=128,n=!0,vn(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=re(),t.sibling=null,r=Z.current,K(Z,n?r&1|2:r&1),t):(pe(t),null);case 22:case 23:return To(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ie&1073741824&&(pe(t),t.subtreeFlags&6&&(t.flags|=8192)):pe(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function Bp(e,t){switch(co(t),t.tag){case 1:return Ce(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Q(Ee),Q(ye),vo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yo(t),null;case 13:if(Q(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Yr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(Z),null;case 4:return Xr(),null;case 10:return mo(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var Ps=!1,xe=!1,qp=typeof WeakSet=="function"?WeakSet:Set,T=null;function Fr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function vl(e,t,r){try{r()}catch(n){te(e,t,n)}}var Gc=!1;function Vp(e,t){if(rl=Xs,e=Rd(),lo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,h=0,m=e,f=null;t:for(;;){for(var d;m!==r||s!==0&&m.nodeType!==3||(o=l+s),m!==a||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(d=m.firstChild)!==null;)f=m,m=d;for(;;){if(m===e)break t;if(f===r&&++u===s&&(o=l),f===a&&++h===n&&(c=l),(d=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=d}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nl={focusedElem:e,selectionRange:r},Xs=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,j=v.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ge(t.type,g),j);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){te(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return v=Gc,Gc=!1,v}function Rn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&vl(t,r,a)}s=s.next}while(s!==n)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ph(e){var t=e.alternate;t!==null&&(e.alternate=null,Ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Gn],delete t[al],delete t[Sp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ri));else if(n!==4&&(e=e.child,e!==null))for(bl(e,t,r),e=e.sibling;e!==null;)bl(e,t,r),e=e.sibling}function jl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jl(e,t,r),e=e.sibling;e!==null;)jl(e,t,r),e=e.sibling}var ue=null,Qe=!1;function _t(e,t,r){for(r=r.child;r!==null;)Ih(e,t,r),r=r.sibling}function Ih(e,t,r){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ki,r)}catch{}switch(r.tag){case 5:xe||Fr(r,t);case 6:var n=ue,s=Qe;ue=null,_t(e,t,r),ue=n,Qe=s,ue!==null&&(Qe?(e=ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ue.removeChild(r.stateNode));break;case 18:ue!==null&&(Qe?(e=ue,r=r.stateNode,e.nodeType===8?ma(e.parentNode,r):e.nodeType===1&&ma(e,r),qn(e)):ma(ue,r.stateNode));break;case 4:n=ue,s=Qe,ue=r.stateNode.containerInfo,Qe=!0,_t(e,t,r),ue=n,Qe=s;break;case 0:case 11:case 14:case 15:if(!xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&vl(r,t,l),s=s.next}while(s!==n)}_t(e,t,r);break;case 1:if(!xe&&(Fr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){te(r,t,o)}_t(e,t,r);break;case 21:_t(e,t,r);break;case 22:r.mode&1?(xe=(n=xe)||r.memoizedState!==null,_t(e,t,r),xe=n):_t(e,t,r);break;default:_t(e,t,r)}}function Jc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qp),t.forEach(function(n){var s=Xp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function He(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ue=o.stateNode,Qe=!1;break e;case 3:ue=o.stateNode.containerInfo,Qe=!0;break e;case 4:ue=o.stateNode.containerInfo,Qe=!0;break e}o=o.return}if(ue===null)throw Error(E(160));Ih(a,l,s),ue=null,Qe=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}function Oh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(He(t,e),tt(e),n&4){try{Rn(3,e,e.return),Ri(3,e)}catch(g){te(e,e.return,g)}try{Rn(5,e,e.return)}catch(g){te(e,e.return,g)}}break;case 1:He(t,e),tt(e),n&512&&r!==null&&Fr(r,r.return);break;case 5:if(He(t,e),tt(e),n&512&&r!==null&&Fr(r,r.return),e.flags&32){var s=e.stateNode;try{Mn(s,"")}catch(g){te(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&ed(s,a),Ha(o,l);var u=Ha(o,a);for(l=0;l<c.length;l+=2){var h=c[l],m=c[l+1];h==="style"?id(s,m):h==="dangerouslySetInnerHTML"?nd(s,m):h==="children"?Mn(s,m):Gl(s,h,m,u)}switch(o){case"input":Fa(s,a);break;case"textarea":td(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?qr(s,!!a.multiple,d,!1):f!==!!a.multiple&&(a.defaultValue!=null?qr(s,!!a.multiple,a.defaultValue,!0):qr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Gn]=a}catch(g){te(e,e.return,g)}}break;case 6:if(He(t,e),tt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){te(e,e.return,g)}}break;case 3:if(He(t,e),tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(g){te(e,e.return,g)}break;case 4:He(t,e),tt(e);break;case 13:He(t,e),tt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Co=re())),n&4&&Jc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(xe=(u=xe)||h,He(t,e),xe=u):He(t,e),tt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(T=e,h=e.child;h!==null;){for(m=T=h;T!==null;){switch(f=T,d=f.child,f.tag){case 0:case 11:case 14:case 15:Rn(4,f,f.return);break;case 1:Fr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){te(n,r,g)}}break;case 5:Fr(f,f.return);break;case 22:if(f.memoizedState!==null){Zc(m);continue}}d!==null?(d.return=f,T=d):Zc(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sd("display",l))}catch(g){te(e,e.return,g)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){te(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:He(t,e),tt(e),n&4&&Jc(e);break;case 21:break;default:He(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mn(s,""),n.flags&=-33);var a=Qc(e);jl(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Qc(e);bl(e,o,l);break;default:throw Error(E(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wp(e,t,r){T=e,Rh(e)}function Rh(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ps;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||xe;o=Ps;var u=xe;if(Ps=l,(xe=c)&&!u)for(T=s;T!==null;)l=T,c=l.child,l.tag===22&&l.memoizedState!==null?Xc(s):c!==null?(c.return=l,T=c):Xc(s);for(;a!==null;)T=a,Rh(a),a=a.sibling;T=s,Ps=o,xe=u}Yc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,T=a):Yc(e)}}function Yc(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Ri(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ge(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lc(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&qn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}xe||t.flags&512&&wl(t)}catch(f){te(t,t.return,f)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function Zc(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function Xc(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ri(4,t)}catch(c){te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){te(t,s,c)}}var a=t.return;try{wl(t)}catch(c){te(t,a,c)}break;case 5:var l=t.return;try{wl(t)}catch(c){te(t,l,c)}}}catch(c){te(t,t.return,c)}if(t===e){T=null;break}var o=t.sibling;if(o!==null){o.return=t.return,T=o;break}T=t.return}}var Hp=Math.ceil,fi=vt.ReactCurrentDispatcher,So=vt.ReactCurrentOwner,Fe=vt.ReactCurrentBatchConfig,B=0,ce=null,se=null,de=0,Ie=0,Br=Ht(0),ae=0,es=null,gr=0,Ai=0,Eo=0,An=null,Ne=null,Co=0,tn=1/0,lt=null,mi=!1,_l=null,Mt=null,Ts=!1,Ot=null,pi=0,Ln=0,Nl=null,Vs=-1,Ws=0;function we(){return B&6?re():Vs!==-1?Vs:Vs=re()}function zt(e){return e.mode&1?B&2&&de!==0?de&-de:Pp.transition!==null?(Ws===0&&(Ws=xd()),Ws):(e=W,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e):1}function Xe(e,t,r,n){if(50<Ln)throw Ln=0,Nl=null,Error(E(185));as(e,r,n),(!(B&2)||e!==ce)&&(e===ce&&(!(B&2)&&(Ai|=r),ae===4&&Pt(e,de)),Pe(e,n),r===1&&B===0&&!(t.mode&1)&&(tn=re()+500,Ti&&Kt()))}function Pe(e,t){var r=e.callbackNode;Pm(e,t);var n=Zs(e,e===ce?de:0);if(n===0)r!==null&&oc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oc(r),t===1)e.tag===0?Cp(eu.bind(null,e)):qd(eu.bind(null,e)),Np(function(){!(B&6)&&Kt()}),r=null;else{switch(yd(n)){case 1:r=Xl;break;case 4:r=pd;break;case 16:r=Ys;break;case 536870912:r=gd;break;default:r=Ys}r=Fh(r,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ah(e,t){if(Vs=-1,Ws=0,B&6)throw Error(E(327));var r=e.callbackNode;if(Gr()&&e.callbackNode!==r)return null;var n=Zs(e,e===ce?de:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gi(e,n);else{t=n;var s=B;B|=2;var a=$h();(ce!==e||de!==t)&&(lt=null,tn=re()+500,cr(e,t));do try{Qp();break}catch(o){Lh(e,o)}while(!0);fo(),fi.current=a,B=s,se!==null?t=0:(ce=null,de=0,t=ae)}if(t!==0){if(t===2&&(s=Ya(e),s!==0&&(n=s,t=kl(e,s))),t===1)throw r=es,cr(e,0),Pt(e,n),Pe(e,re()),r;if(t===6)Pt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Kp(s)&&(t=gi(e,n),t===2&&(a=Ya(e),a!==0&&(n=a,t=kl(e,a))),t===1))throw r=es,cr(e,0),Pt(e,n),Pe(e,re()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:rr(e,Ne,lt);break;case 3:if(Pt(e,n),(n&130023424)===n&&(t=Co+500-re(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){we(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=il(rr.bind(null,e,Ne,lt),t);break}rr(e,Ne,lt);break;case 4:if(Pt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-Ze(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Hp(n/1960))-n,10<n){e.timeoutHandle=il(rr.bind(null,e,Ne,lt),n);break}rr(e,Ne,lt);break;case 5:rr(e,Ne,lt);break;default:throw Error(E(329))}}}return Pe(e,re()),e.callbackNode===r?Ah.bind(null,e):null}function kl(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=gi(e,t),e!==2&&(t=Ne,Ne=r,t!==null&&Sl(t)),e}function Sl(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function Kp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!et(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~Eo,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),n=1<<r;e[r]=-1,t&=~n}}function eu(e){if(B&6)throw Error(E(327));Gr();var t=Zs(e,0);if(!(t&1))return Pe(e,re()),null;var r=gi(e,t);if(e.tag!==0&&r===2){var n=Ya(e);n!==0&&(t=n,r=kl(e,n))}if(r===1)throw r=es,cr(e,0),Pt(e,t),Pe(e,re()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,Ne,lt),Pe(e,re()),null}function Po(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(tn=re()+500,Ti&&Kt())}}function xr(e){Ot!==null&&Ot.tag===0&&!(B&6)&&Gr();var t=B;B|=1;var r=Fe.transition,n=W;try{if(Fe.transition=null,W=1,e)return e()}finally{W=n,Fe.transition=r,B=t,!(B&6)&&Kt()}}function To(){Ie=Br.current,Q(Br)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_p(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(co(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ni();break;case 3:Xr(),Q(Ee),Q(ye),vo();break;case 5:yo(n);break;case 4:Xr();break;case 13:Q(Z);break;case 19:Q(Z);break;case 10:mo(n.type._context);break;case 22:case 23:To()}r=r.return}if(ce=e,se=e=Ft(e.current,null),de=Ie=t,ae=0,es=null,Eo=Ai=gr=0,Ne=An=null,ar!==null){for(t=0;t<ar.length;t++)if(r=ar[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}ar=null}return e}function Lh(e,t){do{var r=se;try{if(fo(),Fs.current=hi,di){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}di=!1}if(pr=0,oe=ie=X=null,On=!1,Yn=0,So.current=null,r===null||r.return===null){ae=1,es=t,se=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=de,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Fc(l);if(d!==null){d.flags&=-257,Bc(d,l,o,a,t),d.mode&1&&zc(a,u,t),t=d,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){zc(a,u,t),Io();break e}c=Error(E(426))}}else if(Y&&o.mode&1){var j=Fc(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Bc(j,l,o,a,t),uo(en(c,o));break e}}a=c=en(c,o),ae!==4&&(ae=2),An===null?An=[a]:An.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=yh(a,c,t);Ac(a,y);break e;case 1:o=c;var p=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Mt===null||!Mt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=vh(a,o,t);Ac(a,b);break e}}a=a.return}while(a!==null)}Dh(r)}catch(k){t=k,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function $h(){var e=fi.current;return fi.current=hi,e===null?hi:e}function Io(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(gr&268435455)&&!(Ai&268435455)||Pt(ce,de)}function gi(e,t){var r=B;B|=2;var n=$h();(ce!==e||de!==t)&&(lt=null,cr(e,t));do try{Gp();break}catch(s){Lh(e,s)}while(!0);if(fo(),B=r,fi.current=n,se!==null)throw Error(E(261));return ce=null,de=0,ae}function Gp(){for(;se!==null;)Uh(se)}function Qp(){for(;se!==null&&!wm();)Uh(se)}function Uh(e){var t=zh(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?Dh(e):se=t,So.current=null}function Dh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Bp(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(r=Fp(r,t,Ie),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function rr(e,t,r){var n=W,s=Fe.transition;try{Fe.transition=null,W=1,Jp(e,t,r,n)}finally{Fe.transition=s,W=n}return null}function Jp(e,t,r,n){do Gr();while(Ot!==null);if(B&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Tm(e,a),e===ce&&(se=ce=null,de=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ts||(Ts=!0,Fh(Ys,function(){return Gr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Fe.transition,Fe.transition=null;var l=W;W=1;var o=B;B|=4,So.current=null,Vp(e,r),Oh(r,e),gp(nl),Xs=!!rl,nl=rl=null,e.current=r,Wp(r),bm(),B=o,W=l,Fe.transition=a}else e.current=r;if(Ts&&(Ts=!1,Ot=e,pi=s),a=e.pendingLanes,a===0&&(Mt=null),Nm(r.stateNode),Pe(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mi)throw mi=!1,e=_l,_l=null,e;return pi&1&&e.tag!==0&&Gr(),a=e.pendingLanes,a&1?e===Nl?Ln++:(Ln=0,Nl=e):Ln=0,Kt(),null}function Gr(){if(Ot!==null){var e=yd(pi),t=Fe.transition,r=W;try{if(Fe.transition=null,W=16>e?16:e,Ot===null)var n=!1;else{if(e=Ot,Ot=null,pi=0,B&6)throw Error(E(331));var s=B;for(B|=4,T=e.current;T!==null;){var a=T,l=a.child;if(T.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(T=u;T!==null;){var h=T;switch(h.tag){case 0:case 11:case 15:Rn(8,h,a)}var m=h.child;if(m!==null)m.return=h,T=m;else for(;T!==null;){h=T;var f=h.sibling,d=h.return;if(Ph(h),h===u){T=null;break}if(f!==null){f.return=d,T=f;break}T=d}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}T=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,T=l;else e:for(;T!==null;){if(a=T,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rn(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,T=y;break e}T=a.return}}var p=e.current;for(T=p;T!==null;){l=T;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,T=x;else e:for(l=p;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ri(9,o)}}catch(k){te(o,o.return,k)}if(o===l){T=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,T=b;break e}T=o.return}}if(B=s,Kt(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ki,e)}catch{}n=!0}return n}finally{W=r,Fe.transition=t}}return!1}function tu(e,t,r){t=en(r,t),t=yh(e,t,1),e=Dt(e,t,1),t=we(),e!==null&&(as(e,1,t),Pe(e,t))}function te(e,t,r){if(e.tag===3)tu(e,e,r);else for(;t!==null;){if(t.tag===3){tu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mt===null||!Mt.has(n))){e=en(r,e),e=vh(t,e,1),t=Dt(t,e,1),e=we(),t!==null&&(as(t,1,e),Pe(t,e));break}}t=t.return}}function Yp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=we(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(de&r)===r&&(ae===4||ae===3&&(de&130023424)===de&&500>re()-Co?cr(e,0):Eo|=r),Pe(e,t)}function Mh(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var r=we();e=gt(e,t),e!==null&&(as(e,t,r),Pe(e,r))}function Zp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mh(e,r)}function Xp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Mh(e,r)}var zh;zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ee.current)Se=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Se=!1,zp(e,t,r);Se=!!(e.flags&131072)}else Se=!1,Y&&t.flags&1048576&&Vd(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var s=Jr(t,ye.current);Kr(t,r),s=bo(null,t,n,e,s,r);var a=jo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(n)?(a=!0,si(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,go(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,hl(t,n,e,r),t=pl(null,t,n,!0,a,r)):(t.tag=0,Y&&a&&oo(t),ve(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=tg(n),e=Ge(n,e),s){case 0:t=ml(null,t,n,e,r);break e;case 1:t=Wc(null,t,n,e,r);break e;case 11:t=qc(null,t,n,e,r);break e;case 14:t=Vc(null,t,n,Ge(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),ml(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),Wc(e,t,n,s,r);case 3:e:{if(_h(t),e===null)throw Error(E(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Jd(e,t),ci(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=en(Error(E(423)),t),t=Hc(e,t,n,r,s);break e}else if(n!==s){s=en(Error(E(424)),t),t=Hc(e,t,n,r,s);break e}else for(Oe=Ut(t.stateNode.containerInfo.firstChild),Re=t,Y=!0,Ye=null,r=Gd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),n===s){t=xt(e,t,r);break e}ve(e,t,n,r)}t=t.child}return t;case 5:return Yd(t),e===null&&cl(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,sl(n,s)?l=null:a!==null&&sl(n,a)&&(t.flags|=32),jh(e,t),ve(e,t,l,r),t.child;case 6:return e===null&&cl(t),null;case 13:return Nh(e,t,r);case 4:return xo(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zr(t,null,n,r):ve(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),qc(e,t,n,s,r);case 7:return ve(e,t,t.pendingProps,r),t.child;case 8:return ve(e,t,t.pendingProps.children,r),t.child;case 12:return ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,K(li,n._currentValue),n._currentValue=l,a!==null)if(et(a.value,l)){if(a.children===s.children&&!Ee.current){t=xt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ft(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ul(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(E(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ul(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}ve(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Kr(t,r),s=qe(s),n=n(s),t.flags|=1,ve(e,t,n,r),t.child;case 14:return n=t.type,s=Ge(n,t.pendingProps),s=Ge(n.type,s),Vc(e,t,n,s,r);case 15:return wh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),qs(e,t),t.tag=1,Ce(n)?(e=!0,si(t)):e=!1,Kr(t,r),xh(t,n,s),hl(t,n,s,r),pl(null,t,n,!0,e,r);case 19:return kh(e,t,r);case 22:return bh(e,t,r)}throw Error(E(156,t.tag))};function Fh(e,t){return md(e,t)}function eg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new eg(e,t,r,n)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tg(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Yl)return 14}return 2}function Ft(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hs(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")Oo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Or:return ur(r.children,s,a,t);case Ql:l=8,s|=8;break;case $a:return e=ze(12,r,t,s|2),e.elementType=$a,e.lanes=a,e;case Ua:return e=ze(13,r,t,s),e.elementType=Ua,e.lanes=a,e;case Da:return e=ze(19,r,t,s),e.elementType=Da,e.lanes=a,e;case Yu:return Li(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:l=10;break e;case Ju:l=9;break e;case Jl:l=11;break e;case Yl:l=14;break e;case St:l=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=ze(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ur(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function Li(e,t,r,n){return e=ze(22,e,n,t),e.elementType=Yu,e.lanes=r,e.stateNode={isHidden:!1},e}function ja(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function _a(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=na(0),this.expirationTimes=na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=na(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ro(e,t,r,n,s,a,l,o,c){return e=new rg(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ze(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},go(a),e}function ng(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bh(e){if(!e)return Vt;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Ce(r))return Bd(e,r,t)}return t}function qh(e,t,r,n,s,a,l,o,c){return e=Ro(r,n,!0,e,s,a,l,o,c),e.context=Bh(null),r=e.current,n=we(),s=zt(r),a=ft(n,s),a.callback=t??null,Dt(r,a,s),e.current.lanes=s,as(e,s,n),Pe(e,n),e}function $i(e,t,r,n){var s=t.current,a=we(),l=zt(s);return r=Bh(r),t.context===null?t.context=r:t.pendingContext=r,t=ft(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dt(s,t,l),e!==null&&(Xe(e,s,l,a),zs(e,s,l)),l}function xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ao(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function sg(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lo(e){this._internalRoot=e}Ui.prototype.render=Lo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));$i(e,t,null,null)};Ui.prototype.unmount=Lo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){$i(null,e,null,null)}),t[pt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=bd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ct.length&&t!==0&&t<Ct[r].priority;r++);Ct.splice(r,0,e),r===0&&_d(e)}};function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nu(){}function ig(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=xi(l);a.call(u)}}var l=qh(t,n,e,0,null,!1,!1,"",nu);return e._reactRootContainer=l,e[pt]=l.current,Hn(e.nodeType===8?e.parentNode:e),xr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=xi(c);o.call(u)}}var c=Ro(e,0,!1,null,null,!1,!1,"",nu);return e._reactRootContainer=c,e[pt]=c.current,Hn(e.nodeType===8?e.parentNode:e),xr(function(){$i(t,c,r,n)}),c}function Mi(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var o=s;s=function(){var c=xi(l);o.call(c)}}$i(t,l,e,s)}else l=ig(r,t,e,s,n);return xi(l)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Nn(t.pendingLanes);r!==0&&(eo(t,r|1),Pe(t,re()),!(B&6)&&(tn=re()+500,Kt()))}break;case 13:xr(function(){var n=gt(e,1);if(n!==null){var s=we();Xe(n,e,1,s)}}),Ao(e,1)}};to=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var r=we();Xe(t,e,134217728,r)}Ao(e,134217728)}};wd=function(e){if(e.tag===13){var t=zt(e),r=gt(e,t);if(r!==null){var n=we();Xe(r,e,t,n)}Ao(e,t)}};bd=function(){return W};jd=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ga=function(e,t,r){switch(t){case"input":if(Fa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Pi(n);if(!s)throw Error(E(90));Xu(n),Fa(n,s)}}}break;case"textarea":td(e,r);break;case"select":t=r.value,t!=null&&qr(e,!!r.multiple,t,!1)}};od=Po;cd=xr;var ag={usingClientEntryPoint:!1,Events:[os,$r,Pi,ad,ld,Po]},wn={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lg={bundleType:wn.bundleType,version:wn.version,rendererPackageName:wn.rendererPackageName,rendererConfig:wn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hd(e),e===null?null:e.stateNode},findFiberByHostInstance:wn.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{ki=Is.inject(lg),st=Is}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$o(t))throw Error(E(200));return ng(e,t,null,r)};Le.createRoot=function(e,t){if(!$o(e))throw Error(E(299));var r=!1,n="",s=Vh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ro(e,1,!1,null,null,r,!1,n,s),e[pt]=t.current,Hn(e.nodeType===8?e.parentNode:e),new Lo(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=hd(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return xr(e)};Le.hydrate=function(e,t,r){if(!Di(t))throw Error(E(200));return Mi(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!$o(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=Vh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=qh(t,null,e,1,r??null,s,!1,a,l),e[pt]=t.current,Hn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ui(t)};Le.render=function(e,t,r){if(!Di(t))throw Error(E(200));return Mi(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!Di(e))throw Error(E(40));return e._reactRootContainer?(xr(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[pt]=null})}),!0):!1};Le.unstable_batchedUpdates=Po;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Di(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Mi(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Wh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wh)}catch(e){console.error(e)}}Wh(),Wu.exports=Le;var og=Wu.exports,su=og;Aa.createRoot=su.createRoot,Aa.hydrateRoot=su.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const iu="popstate";function cg(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:l,hash:o}=n.location;return El("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:yi(s)}return dg(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ug(){return Math.random().toString(36).substr(2,8)}function au(e,t){return{usr:e.state,key:e.key,idx:t}}function El(e,t,r,n){return r===void 0&&(r=null),ts({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cn(t):t,{state:r,key:t&&t.key||n||ug()})}function yi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,o=Rt.Pop,c=null,u=h();u==null&&(u=0,l.replaceState(ts({},l.state,{idx:u}),""));function h(){return(l.state||{idx:null}).idx}function m(){o=Rt.Pop;let j=h(),y=j==null?null:j-u;u=j,c&&c({action:o,location:g.location,delta:y})}function f(j,y){o=Rt.Push;let p=El(g.location,j,y);u=h()+1;let x=au(p,u),b=g.createHref(p);try{l.pushState(x,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}a&&c&&c({action:o,location:g.location,delta:1})}function d(j,y){o=Rt.Replace;let p=El(g.location,j,y);u=h();let x=au(p,u),b=g.createHref(p);l.replaceState(x,"",b),a&&c&&c({action:o,location:g.location,delta:0})}function v(j){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:yi(j);return p=p.replace(/ $/,"%20"),ne(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let g={get action(){return o},get location(){return e(s,l)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iu,m),c=j,()=>{s.removeEventListener(iu,m),c=null}},createHref(j){return t(s,j)},createURL:v,encodeLocation(j){let y=v(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(j){return l.go(j)}};return g}var lu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lu||(lu={}));function hg(e,t,r){return r===void 0&&(r="/"),fg(e,t,r)}function fg(e,t,r,n){let s=typeof t=="string"?cn(t):t,a=Uo(s.pathname||"/",r);if(a==null)return null;let l=Kh(e);mg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Sg(a);o=_g(l[c],u)}return o}function Kh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(ne(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Bt([n,c.relativePath]),h=r.concat(c);a.children&&a.children.length>0&&(ne(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Kh(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:bg(u,a.index),routesMeta:h})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,l);else for(let c of Gh(a.path))s(a,l,c)}),t}function Gh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=Gh(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function mg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pg=/^:[\w-]+$/,gg=3,xg=2,yg=1,vg=10,wg=-2,ou=e=>e==="*";function bg(e,t){let r=e.split("/"),n=r.length;return r.some(ou)&&(n+=wg),t&&(n+=xg),r.filter(s=>!ou(s)).reduce((s,a)=>s+(pg.test(a)?gg:a===""?yg:vg),n)}function jg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function _g(e,t,r){let{routesMeta:n}=e,s={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=Ng({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:Bt([a,m.pathname]),pathnameBase:Tg(Bt([a,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(a=Bt([a,m.pathnameBase]))}return l}function Ng(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=kg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:f,isOptional:d}=h;if(f==="*"){let g=o[m]||"";l=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[m];return d&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:e}}function kg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Hh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Sg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Uo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Eg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?cn(e):e;return{pathname:r?r.startsWith("/")?r:Cg(r,t):t,search:Ig(n),hash:Og(s)}}function Cg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Na(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Do(e,t){let r=Pg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mo(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=cn(e):(s=ts({},e),ne(!s.pathname||!s.pathname.includes("?"),Na("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Na("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Na("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}o=m>=0?t[m]:"/"}let c=Eg(s,o),u=l&&l!=="/"&&l.endsWith("/"),h=(a||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Bt=e=>e.join("/").replace(/\/\/+/g,"/"),Tg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ig=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Og=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qh=["post","put","patch","delete"];new Set(Qh);const Ag=["get",...Qh];new Set(Ag);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(this,arguments)}const zo=N.createContext(null),Lg=N.createContext(null),Gt=N.createContext(null),zi=N.createContext(null),wt=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Jh=N.createContext(null);function $g(e,t){let{relative:r}=t===void 0?{}:t;un()||ne(!1);let{basename:n,navigator:s}=N.useContext(Gt),{hash:a,pathname:l,search:o}=Xh(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:Bt([n,l])),s.createHref({pathname:c,search:o,hash:a})}function un(){return N.useContext(zi)!=null}function us(){return un()||ne(!1),N.useContext(zi).location}function Yh(e){N.useContext(Gt).static||N.useLayoutEffect(e)}function Fi(){let{isDataRoute:e}=N.useContext(wt);return e?Qg():Ug()}function Ug(){un()||ne(!1);let e=N.useContext(zo),{basename:t,future:r,navigator:n}=N.useContext(Gt),{matches:s}=N.useContext(wt),{pathname:a}=us(),l=JSON.stringify(Do(s,r.v7_relativeSplatPath)),o=N.useRef(!1);return Yh(()=>{o.current=!0}),N.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=Mo(u,JSON.parse(l),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Bt([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,l,a,e])}function Zh(){let{matches:e}=N.useContext(wt),t=e[e.length-1];return t?t.params:{}}function Xh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Gt),{matches:s}=N.useContext(wt),{pathname:a}=us(),l=JSON.stringify(Do(s,n.v7_relativeSplatPath));return N.useMemo(()=>Mo(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function Dg(e,t){return Mg(e,t)}function Mg(e,t,r,n){un()||ne(!1);let{navigator:s}=N.useContext(Gt),{matches:a}=N.useContext(wt),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=us(),h;if(t){var m;let j=typeof t=="string"?cn(t):t;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||ne(!1),h=j}else h=u;let f=h.pathname||"/",d=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");d="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=hg(e,{pathname:d}),g=Vg(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Bt([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Bt([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return t&&g?N.createElement(zi.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rt.Pop}},g):g}function zg(){let e=Gg(),t=Rg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const Fg=N.createElement(zg,null);class Bg extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(wt.Provider,{value:this.props.routeContext},N.createElement(Jh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qg(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(zo);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(wt.Provider,{value:t},n)}function Vg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let h=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||ne(!1),l=l.slice(0,Math.min(l.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<l.length;h++){let m=l[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:f,errors:d}=r,v=m.route.loader&&f[m.route.id]===void 0&&(!d||d[m.route.id]===void 0);if(m.route.lazy||v){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((h,m,f)=>{let d,v=!1,g=null,j=null;r&&(d=o&&m.route.id?o[m.route.id]:void 0,g=m.route.errorElement||Fg,c&&(u<0&&f===0?(Jg("route-fallback"),v=!0,j=null):u===f&&(v=!0,j=m.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,f+1)),p=()=>{let x;return d?x=g:v?x=j:m.route.Component?x=N.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=h,N.createElement(qg,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?N.createElement(Bg,{location:r.location,revalidation:r.revalidation,component:g,error:d,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var ef=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ef||{}),tf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tf||{});function Wg(e){let t=N.useContext(zo);return t||ne(!1),t}function Hg(e){let t=N.useContext(Lg);return t||ne(!1),t}function Kg(e){let t=N.useContext(wt);return t||ne(!1),t}function rf(e){let t=Kg(),r=t.matches[t.matches.length-1];return r.route.id||ne(!1),r.route.id}function Gg(){var e;let t=N.useContext(Jh),r=Hg(),n=rf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Qg(){let{router:e}=Wg(ef.UseNavigateStable),t=rf(tf.UseNavigateStable),r=N.useRef(!1);return Yh(()=>{r.current=!0}),N.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rs({fromRouteId:t},a)))},[e,t])}const cu={};function Jg(e,t,r){cu[e]||(cu[e]=!0)}function Yg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function yt(e){let{to:t,replace:r,state:n,relative:s}=e;un()||ne(!1);let{future:a,static:l}=N.useContext(Gt),{matches:o}=N.useContext(wt),{pathname:c}=us(),u=Fi(),h=Mo(t,Do(o,a.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(h);return N.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function Te(e){ne(!1)}function Zg(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rt.Pop,navigator:a,static:l=!1,future:o}=e;un()&&ne(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:a,static:l,future:rs({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=cn(n));let{pathname:h="/",search:m="",hash:f="",state:d=null,key:v="default"}=n,g=N.useMemo(()=>{let j=Uo(h,c);return j==null?null:{location:{pathname:j,search:m,hash:f,state:d,key:v},navigationType:s}},[c,h,m,f,d,v,s]);return g==null?null:N.createElement(Gt.Provider,{value:u},N.createElement(zi.Provider,{children:r,value:g}))}function Xg(e){let{children:t,location:r}=e;return Dg(Cl(t),r)}new Promise(()=>{});function Cl(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let a=[...t,s];if(n.type===N.Fragment){r.push.apply(r,Cl(n.props.children,a));return}n.type!==Te&&ne(!1),!n.props.index||!n.props.children||ne(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Cl(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function e0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function t0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r0(e,t){return e.button===0&&(!t||t==="_self")&&!t0(e)}const n0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],s0="6";try{window.__reactRouterVersion=s0}catch{}const i0="startTransition",uu=Yf[i0];function a0(e){let{basename:t,children:r,future:n,window:s}=e,a=N.useRef();a.current==null&&(a.current=cg({window:s,v5Compat:!0}));let l=a.current,[o,c]=N.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=N.useCallback(m=>{u&&uu?uu(()=>c(m)):c(m)},[c,u]);return N.useLayoutEffect(()=>l.listen(h),[l,h]),N.useEffect(()=>Yg(n),[n]),N.createElement(Zg,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const l0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:o,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,f=e0(t,n0),{basename:d}=N.useContext(Gt),v,g=!1;if(typeof u=="string"&&o0.test(u)&&(v=u,l0))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=Uo(b.pathname,d);b.origin===x.origin&&k!=null?u=k+b.search+b.hash:g=!0}catch{}let j=$g(u,{relative:s}),y=c0(u,{replace:l,state:o,target:c,preventScrollReset:h,relative:s,viewTransition:m});function p(x){n&&n(x),x.defaultPrevented||y(x)}return N.createElement("a",Pl({},f,{href:v||j,onClick:g||a?n:p,ref:r,target:c}))});var du;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(du||(du={}));var hu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hu||(hu={}));function c0(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Fi(),u=us(),h=Xh(e,{relative:l});return N.useCallback(m=>{if(r0(m,r)){m.preventDefault();let f=n!==void 0?n:yi(u)===yi(h);c(e,{replace:f,state:s,preventScrollReset:a,relative:l,viewTransition:o})}},[u,c,h,n,s,r,e,a,l,o])}const u0="modulepreload",d0=function(e){return"/"+e},fu={},ds=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=d0(c),c in fu)return;fu[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":u0,u||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((f,d)=>{m.addEventListener("load",f),m.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},h0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Fo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f0 extends Fo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mu extends Fo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pu extends Fo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tl||(Tl={}));var m0=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class p0{constructor(t,{headers:r={},customFetch:n,region:s=Tl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=h0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return m0(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(o["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(o["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:h}).catch(g=>{throw new f0(g)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new mu(m);if(!m.ok)throw new pu(m);let d=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return d==="application/json"?v=yield m.json():d==="application/octet-stream"?v=yield m.blob():d==="text/event-stream"?v=m:d==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof pu||s instanceof mu?s.context:void 0}}})}}var ke={},Bo={},Bi={},hs={},qi={},Vi={},g0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rn=g0();const x0=rn.fetch,nf=rn.fetch.bind(rn),sf=rn.Headers,y0=rn.Request,v0=rn.Response,dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:sf,Request:y0,Response:v0,default:nf,fetch:x0},Symbol.toStringTag,{value:"Module"})),w0=Lf(dn);var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});let b0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Wi.default=b0;var af=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const j0=af(w0),_0=af(Wi);let N0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=j0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,o,c;let u=null,h=null,m=null,f=a.status,d=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const g=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),j=(o=a.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&j&&j.length>1&&(m=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,d="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(h=[],u=null,f=200,d="OK")}catch{a.status===404&&g===""?(f=204,d="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,d="OK"),u&&this.shouldThrowOnError)throw new _0.default(u)}return{error:u,data:h,count:m,status:f,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,o,c;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Vi.default=N0;var k0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const S0=k0(Vi);let E0=class extends S0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qi.default=E0;var C0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const P0=C0(qi);let T0=class extends P0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hs.default=T0;var I0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});const bn=I0(hs);let O0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new bn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),a||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new bn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new bn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new bn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bi.default=O0;var Hi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.version=void 0;Ki.version="0.0.0-automated";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.DEFAULT_HEADERS=void 0;const R0=Ki;Hi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${R0.version}`};var lf=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0});const A0=lf(Bi),L0=lf(hs),$0=Hi;let U0=class of{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},$0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new A0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new of(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let l;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{o.searchParams.append(h,m)})):(l="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new L0.default({method:l,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bo.default=U0;var hn=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const cf=hn(Bo);ke.PostgrestClient=cf.default;const uf=hn(Bi);ke.PostgrestQueryBuilder=uf.default;const df=hn(hs);ke.PostgrestFilterBuilder=df.default;const hf=hn(qi);ke.PostgrestTransformBuilder=hf.default;const ff=hn(Vi);ke.PostgrestBuilder=ff.default;const mf=hn(Wi);ke.PostgrestError=mf.default;var D0=ke.default={PostgrestClient:cf.default,PostgrestQueryBuilder:uf.default,PostgrestFilterBuilder:df.default,PostgrestTransformBuilder:hf.default,PostgrestBuilder:ff.default,PostgrestError:mf.default};const{PostgrestClient:M0,PostgrestQueryBuilder:pv,PostgrestFilterBuilder:gv,PostgrestTransformBuilder:xv,PostgrestBuilder:yv,PostgrestError:vv}=D0;function z0(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const F0=z0(),B0="2.11.15",q0=`realtime-js/${B0}`,V0="1.0.0",pf=1e4,W0=1e3;var $n;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($n||($n={}));var ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ge||(ge={}));var Je;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Je||(Je={}));var Il;(function(e){e.websocket="websocket"})(Il||(Il={}));var sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sr||(sr={}));class H0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class gf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const gu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=K0(l,e,t,s),a),{})},K0=(e,t,r,n)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,l=r[e];return a&&!n.includes(a)?xf(a,l):Ol(l)},xf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Y0(t,r)}switch(e){case H.bool:return G0(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Q0(t);case H.json:case H.jsonb:return J0(t);case H.timestamp:return Z0(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Ol(t);default:return Ol(t)}},Ol=e=>e,G0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Q0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},J0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Y0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(o=>xf(t,o))}return e},Z0=e=>typeof e=="string"?e.replace(" ","T"):e,yf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ka{constructor(t,r,n={},s=pf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xu||(xu={}));class Un{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,s,a,l),this.pendingDiffs.forEach(c=>{this.state=Un.syncDiff(this.state,c,a,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Un.syncDiff(this.state,s,a,l),o())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(a,(u,h)=>{l[u]||(c[u]=h)}),this.map(l,(u,h)=>{const m=a[u];if(m){const f=h.map(j=>j.presence_ref),d=m.map(j=>j.presence_ref),v=h.filter(j=>d.indexOf(j.presence_ref)<0),g=m.filter(j=>f.indexOf(j.presence_ref)<0);v.length>0&&(o[u]=v),g.length>0&&(c[u]=g)}else o[u]=h}),this.syncDiff(a,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(o,c)=>{var u;const h=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),h.length>0){const m=t[o].map(d=>d.presence_ref),f=h.filter(d=>m.indexOf(d.presence_ref)<0);t[o].unshift(...f)}n(o,h,c)}),this.map(l,(o,c)=>{let u=t[o];if(!u)return;const h=c.map(m=>m.presence_ref);u=u.filter(m=>h.indexOf(m.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yu||(yu={}));var vu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vu||(vu={}));var ot;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ot||(ot={}));class qo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ka(this,Je.join,this.params,this.timeout),this.rejoinTimer=new gf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Un(this),this.broadcastEndpointURL=yf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params;this._onError(h=>t==null?void 0:t(ot.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ot.CLOSED));const c={},u={broadcast:a,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(ot.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,d=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,v=[];for(let g=0;g<d;g++){const j=f[g],{filter:{event:y,schema:p,table:x,filter:b}}=j,k=h&&h[g];if(k&&k.event===y&&k.schema===p&&k.table===x&&k.filter===b)v.push(Object.assign(Object.assign({},j),{id:k.id}));else{this.unsubscribe(),this.state=ge.errored,t==null||t(ot.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(ot.SUBSCRIBED);return}}).receive("error",h=>{this.state=ge.errored,t==null||t(ot.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ot.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ka(this,Je.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ka(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:h}=Je;if(n&&[o,c,u,h].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(d=>{var v,g,j;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((j=(g=d.filter)===null||g===void 0?void 0:g.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(d=>d.callback(f,n)):(a=this.bindings[l])===null||a===void 0||a.filter(d=>{var v,g,j,y,p,x;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in d){const b=d.id,k=(v=d.filter)===null||v===void 0?void 0:v.event;return b&&((g=r.ids)===null||g===void 0?void 0:g.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(p=(y=d==null?void 0:d.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===l}).map(d=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:j,commit_timestamp:y,type:p,errors:x}=v;f=Object.assign(Object.assign({},{schema:g,table:j,commit_timestamp:y,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(v))}d.callback(f,n)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&qo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Je.close,{},t)}_onError(t){this._on(Je.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=gu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=gu(t.columns,t.old_record)),r}}const wu=()=>{},X0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ex{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wu,this.ref=0,this.logger=wu,this.conn=null,this.sendBuffer=[],this.serializer=new H0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...o)=>ds(async()=>{const{default:c}=await Promise.resolve().then(()=>dn);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${t}/${Il.websocket}`,this.httpEndpoint=yf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=F0),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:V0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return sr.Connecting;case $n.open:return sr.Open;case $n.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new qo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:q0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(W0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Je.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Vo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function le(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class tx extends Vo{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rl extends Vo{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var rx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},nx=()=>rx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>dn),void 0)).Response:Response}),Al=e=>{if(Array.isArray(e))return e.map(r=>Al(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Al(n)}),t},sx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var jr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Sa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ix=(e,t,r)=>jr(void 0,void 0,void 0,function*(){const n=yield nx();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,l=(s==null?void 0:s.statusCode)||a+"";t(new tx(Sa(s),a,l))}).catch(s=>{t(new Rl(Sa(s),s))}):t(new Rl(Sa(e),e))}),ax=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(sx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function fs(e,t,r,n,s,a){return jr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,ax(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>ix(c,o,n))})})}function vi(e,t,r,n){return jr(this,void 0,void 0,function*(){return fs(e,"GET",t,r,n)})}function ct(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return fs(e,"POST",t,n,s,r)})}function Ll(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return fs(e,"PUT",t,n,s,r)})}function lx(e,t,r,n){return jr(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wf(e,t,r,n,s){return jr(this,void 0,void 0,function*(){return fs(e,"DELETE",t,n,s,r)})}var _e=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cx{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=vf(s)}uploadOrUpdate(t,r,n,s){return _e(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},bu),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=yield(t=="PUT"?Ll:ct)(this.fetch,`${this.url}/object/${h}`,a,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(le(a))return{data:null,error:a};throw a}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return _e(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:bu.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const m=yield Ll(this.fetch,o.toString(),c,{headers:h});return{data:{path:a,fullPath:m.Key},error:null}}catch(c){if(le(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+a.url),o=l.searchParams.get("token");if(!o)throw new Vo("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const s=yield ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}download(t,r){return _e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield vi(this.fetch,`${this.url}/${s}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}})}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Al(n),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield lx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(le(n)&&n instanceof Rl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ox),r),{prefix:t||""});return{data:yield ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ux="2.10.4",dx={"X-Client-Info":`storage-js/${ux}`};var Nr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class hx{constructor(t,r={},n,s){const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},dx),r),this.fetch=vf(n)}listBuckets(){return Nr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(le(t))return{data:null,error:t};throw t}})}getBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Nr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Nr(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Nr(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}})}}class fx extends hx{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new cx(this.url,this.headers,t,this.fetch)}}const mx="2.53.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const px={"X-Client-Info":`supabase-js-${Sn}/${mx}`},gx={headers:px},xx={schema:"public"},yx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vx={};var wx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const bx=e=>{let t;return e?t=e:typeof fetch>"u"?t=nf:t=fetch,(...r)=>t(...r)},jx=()=>typeof Headers>"u"?sf:Headers,_x=(e,t,r)=>{const n=bx(r),s=jx();return(a,l)=>wx(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var Nx=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function kx(e){return e.endsWith("/")?e:e+"/"}function Sx(e,t){var r,n;const{db:s,auth:a,realtime:l,global:o}=e,{db:c,auth:u,realtime:h,global:m}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Nx(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const bf="2.71.1",Pr=30*1e3,$l=3,Ea=$l*Pr,Ex="http://localhost:9999",Cx="supabase.auth.token",Px={"X-Client-Info":`gotrue-js/${bf}`},Ul="X-Supabase-Api-Version",jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ix=10*60*1e3;class Wo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ox extends Wo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Rx(e){return U(e)&&e.name==="AuthApiError"}class _f extends Wo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qt extends Wo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class kt extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ax(e){return U(e)&&e.name==="AuthSessionMissingError"}class Os extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class As extends Qt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lx(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class ju extends Qt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dl extends Qt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ca(e){return U(e)&&e.name==="AuthRetryableFetchError"}class _u extends Qt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ml extends Qt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nu=` 	
\r=`.split(""),$x=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nu.length;t+=1)e[Nu[t].charCodeAt(0)]=-2;for(let t=0;t<wi.length;t+=1)e[wi[t].charCodeAt(0)]=t;return e})();function ku(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(wi[n]),t.queuedBits-=6}}function Nf(e,t,r){const n=$x[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Su(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{Mx(l,n,r)};for(let l=0;l<e.length;l+=1)Nf(e.charCodeAt(l),s,a);return t.join("")}function Ux(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ux(n,t)}}function Mx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Nf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Fx(e){const t=[];return Dx(e,r=>t.push(r)),new Uint8Array(t)}function Bx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ku(s,r,n)),ku(null,r,n),t.join("")}function qx(e){return Math.round(Date.now()/1e3)+e}function Vx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},kf=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Wx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Sf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>dn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Hx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},er=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nt=async(e,t)=>{await e.removeItem(t)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gi.promiseConstructor=Promise;function Pa(e){const t=e.split(".");if(t.length!==3)throw new Ml("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Tx.test(t[n]))throw new Ml("JWT not in base64url format");return{header:JSON.parse(Su(t[0])),payload:JSON.parse(Su(t[1])),signature:zx(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gx(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function Qx(e){return("0"+e.toString(16)).substr(-2)}function Jx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Qx).join("")}async function Yx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Zx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Yx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(e,t,r=!1){const n=Jx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tr(e,`${t}-code-verifier`,s);const a=await Zx(n);return[a,n===a?"plain":"s256"]}const Xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(e){const t=e.headers.get(Ul);if(!t||!t.match(Xx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ty(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ry(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!ny.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ta(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Eu(e){return JSON.parse(JSON.stringify(e))}var sy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iy=[502,503,504];async function Cu(e){var t;if(!Hx(e))throw new Dl(nr(e),0);if(iy.includes(e.status))throw new Dl(nr(e),e.status);let r;try{r=await e.json()}catch(a){throw new _f(nr(a),a)}let n;const s=ey(e);if(s&&s.getTime()>=jf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _u(nr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new _u(nr(r),e.status,r.weak_password.reasons);throw new Ox(nr(r),e.status||500,n)}const ay=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Ul]||(a[Ul]=jf["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await ly(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function ly(e,t,r,n,s,a){const l=ay(t,n,s,a);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new Dl(nr(c),0)}if(o.ok||await Cu(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Cu(c)}}function at(e){var t;let r=null;dy(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pu(e){const t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oy(e){return{data:e,error:null}}function cy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,l=sy(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function uy(e){return e}function dy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ia=["global","local","others"];var hy=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class fy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ia[0]){if(Ia.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ia.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hy(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,l,o,c;try{const u={nextPage:null,lastPage:0,total:0},h=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:uy});if(h.error)throw h.error;const m=await h.json(),f=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,d=(c=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return d.length>0&&(d.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(v.split(";")[1].split("=")[1]);u[`${j}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Sr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Sr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Sr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Sr(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Sr(t.userId),Sr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}function Tu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function my(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&kf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ef extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class py extends Ef{}async function gy(e,t,r){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new py(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Er.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}my();const xy={url:Ex,storageKey:Cx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Px,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Iu(e,t,r){return await r()}const Cr={};class ns{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sf(s.fetch),this.lock=s.lock||Iu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gy:this.lock=Iu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:kf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Cr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Cr[this.storageKey]=Object.assign(Object.assign({},Cr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Wx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Lx(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?{error:r}:{error:new _f("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:h,password:m,options:f}=t;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await kr(this.storage,this.storageKey)),a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:v},xform:at})}else if("phone"in t){const{phone:h,password:m,options:f}=t;a=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:at})}else throw new Rs("You must provide either an email or phone number and a password");const{data:l,error:o}=a;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:o}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pu})}else if("phone"in t){const{phone:a,password:l,options:o}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pu})}else throw new Rs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Os}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,l,o,c,u,h,m,f,d;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:j,wallet:y,statement:p,options:x}=t;let b;if(Ke())if(typeof y=="object")b=y;else{const w=window;if("solana"in w&&typeof w.solana=="object"&&("signIn"in w.solana&&typeof w.solana.signIn=="function"||"signMessage"in w.solana&&typeof w.solana.signMessage=="function"))b=w.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const k=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const w=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let _;if(Array.isArray(w)&&w[0]&&typeof w[0]=="object")_=w[0];else if(w&&typeof w=="object"&&"signedMessage"in w&&"signature"in w)_=w;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const w=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!w||!(w instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=w}}try{const{data:j,error:y}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Bx(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:at});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Os}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(U(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await er(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:at});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(U(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:l}=t,o=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Os}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,l;try{if("email"in t){const{email:o,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await kr(this.storage,this.storageKey));const{error:m}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Rs("You must provide either an email or phone number.")}catch(o){if(U(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:at});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,u=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await kr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:oy})}catch(a){if(U(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(U(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:l,error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Rs("You must provide either an email or phone number and a type")}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ea:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await er(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Ta()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async r=>{var n,s,a;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Tt})})}catch(r){if(U(r))return Ax(r)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new kt;const l=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await kr(this.storage,this.storageKey));const{data:u,error:h}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Tt});if(h)throw h;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:l}=Pa(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(U(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(U(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ke())throw new As("No browser detected.");if(t.error||t.error_description||t.error_code)throw new As(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ju("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!l||!u)throw new As("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(o);let f=h+m;c&&(f=parseInt(c));const d=f-h;d*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${m}s`);const v=f-m;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:g,error:j}=await this._getUser(a);if(j)throw j;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:m,expires_at:f,refresh_token:l,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(U(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(Rx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Vx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(U(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var l,o,c,u,h;const{data:m,error:f}=a;if(f)throw f;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",d,{headers:this.headers,jwt:(h=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(U(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)throw l;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Gx(async s=>(s>0&&await Kx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})),(s,a)=>{const l=200*Math.pow(2,s);return a&&Ca(a)&&Date.now()+l-n<Pr})}catch(n){if(this._debug(r,"error",n),U(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await er(this.storage,this.storageKey);if(s&&this.userStorage){let l=await er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Tr(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Ta()}else if(s&&!s.user&&!s.user){const l=await er(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Nt(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,s)):s.user=Ta()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ea;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Ea}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Ca(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(s.access_token);!o&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new kt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),U(a)){const l={session:null,error:a};return Ca(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(l),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Eu(s);await Tr(this.storage,this.storageKey,a)}else{const s=Eu(r);await Tr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Pr}ms, refresh threshold is ${$l} ticks`),s<=$l&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ef)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await kr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:o}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Pa(s.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ix>s)return n;const{data:a,error:l}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:d,error:v}=await this.getSession();if(v||!d.session)return{data:null,error:v};n=d.session.access_token}const{header:s,payload:a,signature:l,raw:{header:o,payload:c}}=Pa(n);r!=null&&r.allowExpired||ty(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:a,header:s,signature:l},error:null}}const h=ry(s.alg),m=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,Fx(`${o}.${c}`)))throw new Ml("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}ns.nextInstanceID=0;const yy=ns;class vy extends yy{constructor(t){super(t)}}var wy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function o(h){try{u(n.next(h))}catch(m){l(m)}}function c(h){try{u(n.throw(h))}catch(m){l(m)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class by{constructor(t,r,n){var s,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=kx(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:xx,realtime:vx,auth:Object.assign(Object.assign({},yx),{storageKey:u}),global:gx},m=Sx(n??{},h);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=_x(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new M0(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new fx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new p0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:l,lock:o,debug:c},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vy({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:o,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new ex(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jy=(e,t,r)=>new by(e,t,r);function _y(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_y()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ny="https://vxmpifukfohjafrbiqvw.supabase.co",ky="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ4bXBpZnVrZm9oamFmcmJpcXZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4MDUwNDYsImV4cCI6MjA2OTM4MTA0Nn0.JPwFO4UL-LileKVD6JDVZc2RrfCFsK5KgKlS5CFkUPc",$=jy(Ny,ky,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{Accept:"application/json","Content-Type":"application/json"}},db:{schema:"public"}}),Cf=N.createContext(void 0);function Sy({children:e}){const[t,r]=N.useState(null),[n,s]=N.useState(null),[a,l]=N.useState(!0),[o,c]=N.useState(!1),[u,h]=N.useState(!1),[m,f]=N.useState(null),[d,v]=N.useState(null);N.useEffect(()=>{$.auth.getSession().then(({data:{session:_}})=>{s(_),r((_==null?void 0:_.user)??null),_!=null&&_.user&&g(_.user.id),l(!1)});const{data:{subscription:w}}=$.auth.onAuthStateChange(async(_,S)=>{s(S),r((S==null?void 0:S.user)??null),S!=null&&S.user?g(S.user.id):(f(null),v(null),c(!1),h(!1)),l(!1)});return()=>w.unsubscribe()},[]);const g=async w=>{try{const{data:_,error:S}=await $.from("user_profiles").select("*").eq("id",w).maybeSingle();if(S){console.error("Error loading user profile:",S),f(null),c(!1),h(!1);return}if(_){if(f(_),c(_.role==="admin"),h(_.role==="agent"),_.role==="agent")try{const{data:A,error:I}=await $.from("agents").select("*").eq("id",w).maybeSingle();!I&&A&&v(A)}catch(A){console.error("Error loading agent profile:",A)}}else console.log("No profile found, creating one..."),await j(w)}catch(_){console.error("Error loading user profile:",_),f(null),c(!1),h(!1)}},j=async w=>{var _,S,A,I;try{const{data:C}=await $.auth.getUser();if(C!=null&&C.user){const{error:R}=await $.from("user_profiles").insert({id:w,email:C.user.email,full_name:((_=C.user.user_metadata)==null?void 0:_.full_name)||((S=C.user.email)==null?void 0:S.split("@")[0])||"Usuario",first_name:((A=C.user.user_metadata)==null?void 0:A.first_name)||"Usuario",last_name:((I=C.user.user_metadata)==null?void 0:I.last_name)||"",role:"buyer"});R||(console.log("Profile created successfully"),await g(w))}}catch(C){console.error("Error creating missing profile:",C)}},k={user:t,session:n,loading:a,signIn:async(w,_)=>{const{error:S}=await $.auth.signInWithPassword({email:w,password:_});return{error:S}},signUp:async(w,_,S,A,I)=>{const{data:C,error:R}=await $.auth.signUp({email:w,password:_,options:{data:{full_name:S,first_name:A,last_name:I}}});return!R&&C.user&&await $.from("user_profiles").insert({id:C.user.id,email:C.user.email,full_name:S,first_name:A,last_name:I,role:"buyer"}),{error:R}},signOut:async()=>{await $.auth.signOut(),c(!1),h(!1),f(null),v(null)},isAdmin:o,isAgent:u,userProfile:m,agentProfile:d,refreshProfile:async()=>{t!=null&&t.id&&await g(t.id)}};return i.jsx(Cf.Provider,{value:k,children:e})}function bt(){const e=N.useContext(Cf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ey={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:c,...u},h)=>N.createElement("svg",{ref:h,...Ey,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Cy(e)}`,o].join(" "),...u},[...t.map(([m,f])=>N.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=D("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=D("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=D("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=D("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=D("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=D("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=D("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=D("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=D("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=D("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=D("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=D("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=D("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=D("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=D("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=D("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=D("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=D("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=D("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=D("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=D("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=D("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=D("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=D("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Wy(){const{user:e,signOut:t,isAdmin:r,isAgent:n}=bt(),s=async()=>{await t()};return i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs(q,{to:"/",className:"flex items-center space-x-2",children:[i.jsx(hr,{className:"h-8 w-8 text-primary-600"}),i.jsx("span",{className:"font-bold text-xl text-gray-900",children:"PropFinder"})]}),i.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[i.jsx(q,{to:"/",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Inicio"}),i.jsx(q,{to:"/properties",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Propiedades"}),i.jsx(q,{to:"/properties?transaction_type=sale",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Comprar"}),i.jsx(q,{to:"/properties?transaction_type=rent",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Rentar"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors",children:i.jsx(If,{className:"h-5 w-5"})}),e?i.jsxs("div",{className:"flex items-center space-x-3",children:[r&&i.jsxs(q,{to:"/admin",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(Of,{className:"h-4 w-4 mr-1"}),"Admin"]}),n&&i.jsxs(q,{to:"/agent-dashboard",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[i.jsx(dr,{className:"h-4 w-4 mr-1"}),"Agente"]}),!n&&!r&&i.jsxs(q,{to:"/become-agent",className:"inline-flex items-center px-3 py-2 border border-green-300 text-sm font-medium rounded-md text-green-700 bg-green-50 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[i.jsx(dr,{className:"h-4 w-4 mr-1"}),"Ser Agente"]}),i.jsx("span",{className:"text-sm text-gray-700",children:e.email}),i.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Cerrar sesión",children:i.jsx(Tf,{className:"h-5 w-5"})})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(q,{to:"/register",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors",children:"Registrarse"}),i.jsxs(q,{to:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(sn,{className:"h-4 w-4 mr-1"}),"Iniciar Sesión"]})]}),i.jsx("button",{className:"btn-primary hidden md:block",children:"Publicar Propiedad"}),i.jsx("button",{className:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",children:i.jsx($y,{className:"h-5 w-5"})})]})]})})})}function Hy(){return i.jsx("footer",{className:"bg-gray-900 text-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"col-span-1 md:col-span-2",children:[i.jsxs(q,{to:"/",className:"flex items-center space-x-2 mb-4",children:[i.jsx(hr,{className:"h-8 w-8 text-primary-400"}),i.jsx("span",{className:"font-bold text-xl",children:"PropFinder"})]}),i.jsx("p",{className:"text-gray-300 mb-4",children:"La plataforma líder en bienes raíces para encontrar, comprar y vender propiedades en toda la República Mexicana. Conectamos compradores, vendedores y arrendadores de manera fácil y segura."}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.566-1.35 2.14-2.21z"})})}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Enlaces Rápidos"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsx("li",{children:i.jsx(q,{to:"/properties",className:"text-gray-300 hover:text-white transition-colors",children:"Todas las Propiedades"})}),i.jsx("li",{children:i.jsx(q,{to:"/properties?transaction_type=sale",className:"text-gray-300 hover:text-white transition-colors",children:"Comprar"})}),i.jsx("li",{children:i.jsx(q,{to:"/properties?transaction_type=rent",className:"text-gray-300 hover:text-white transition-colors",children:"Rentar"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Vender"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors",children:"Sobre Nosotros"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Contacto"}),i.jsxs("ul",{className:"space-y-2",children:[i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(Qi,{className:"h-4 w-4 text-primary-400"}),i.jsx("span",{className:"text-gray-300",children:"contacto@propfinder.com"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(Ji,{className:"h-4 w-4 text-primary-400"}),i.jsx("span",{className:"text-gray-300",children:"+52 55 1234 5678"})]}),i.jsxs("li",{className:"flex items-center space-x-2",children:[i.jsx(yr,{className:"h-4 w-4 text-primary-400"}),i.jsx("span",{className:"text-gray-300",children:"Ciudad de México, México"})]})]})]})]}),i.jsx("hr",{className:"border-gray-700 my-8"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 PropFinder. Todos los derechos reservados."}),i.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookies"})]})]})]})})}function Ky(){const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,a]=N.useState([]),[l,o]=N.useState(!0),[c,u]=N.useState({location:"",transaction_type:"",property_type:"",min_price:"",max_price:""});N.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:d}=await $.from("properties").select("*").eq("status","published").eq("is_featured",!0).order("created_at",{ascending:!1}).limit(6),{data:v}=await $.from("properties").select("*").eq("status","published").eq("is_urgent",!0).order("created_at",{ascending:!1}).limit(4),{data:g}=await $.from("properties").select("*").eq("status","published").order("created_at",{ascending:!1}).limit(8);t(d||[]),n(v||[]),a(g||[])}catch(d){console.error("Error loading home data:",d)}finally{o(!1)}},m=()=>{const d=new URLSearchParams;Object.entries(c).forEach(([v,g])=>{g&&d.append(v,g)}),window.location.href=`/properties?${d.toString()}`},f=({property:d})=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[i.jsxs("div",{className:"relative h-48",children:[d.images.length>0?i.jsx("img",{src:d.images[0],alt:d.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:i.jsx(hr,{className:"h-12 w-12 text-gray-400"})}),i.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-1",children:[d.is_featured&&i.jsxs("span",{className:"bg-yellow-500 text-white px-2 py-1 rounded text-xs font-medium",children:[i.jsx(vr,{className:"inline h-3 w-3 mr-1"}),"Destacada"]}),d.is_urgent&&i.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs font-medium",children:"⚡ Urgente"})]}),i.jsx("div",{className:"absolute bottom-3 left-3",children:i.jsxs("span",{className:"bg-black bg-opacity-75 text-white px-3 py-1 rounded-full text-sm font-bold",children:[d.currency," ",d.price.toLocaleString()]})}),i.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-2 text-white text-xs",children:[i.jsxs("div",{className:"flex items-center bg-black bg-opacity-50 px-2 py-1 rounded",children:[i.jsx(nn,{className:"h-3 w-3 mr-1"}),d.views_count]}),i.jsxs("div",{className:"flex items-center bg-black bg-opacity-50 px-2 py-1 rounded",children:[i.jsx(ji,{className:"h-3 w-3 mr-1"}),d.favorites_count]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:d.title}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[i.jsx(yr,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{className:"truncate",children:[d.neighborhood,", ",d.city]})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3 space-x-4",children:[d.bedrooms&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ko,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.bedrooms})]}),d.bathrooms&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ho,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.bathrooms})]}),d.area_total&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Go,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:[d.area_total,"m²"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:[d.property_type," • ",d.transaction_type]}),i.jsx(q,{to:`/properties/${d.id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Ver detalles"})]})]})]});return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs("section",{className:"relative bg-gradient-to-r from-blue-700 to-blue-900 text-white",children:[i.jsx("div",{className:"absolute inset-0 bg-black opacity-40"}),i.jsx("div",{className:"relative bg-cover bg-center py-24",style:{backgroundImage:"url('https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')"},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Encuentra tu hogar ideal en Ecuador"}),i.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100",children:"Miles de propiedades verificadas por agentes profesionales"})]}),i.jsx("div",{className:"bg-white rounded-xl p-6 shadow-2xl max-w-5xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(yr,{className:"inline h-4 w-4 mr-1"}),"Ubicación"]}),i.jsx("input",{type:"text",placeholder:"Ciudad, barrio o dirección",value:c.location,onChange:d=>u(v=>({...v,location:d.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operación"}),i.jsxs("select",{value:c.transaction_type,onChange:d=>u(v=>({...v,transaction_type:d.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[i.jsx("option",{value:"",children:"Cualquiera"}),i.jsx("option",{value:"venta",children:"Venta"}),i.jsx("option",{value:"alquiler",children:"Alquiler"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo"}),i.jsxs("select",{value:c.property_type,onChange:d=>u(v=>({...v,property_type:d.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[i.jsx("option",{value:"",children:"Cualquiera"}),i.jsx("option",{value:"casa",children:"Casa"}),i.jsx("option",{value:"departamento",children:"Departamento"}),i.jsx("option",{value:"oficina",children:"Oficina"}),i.jsx("option",{value:"local_comercial",children:"Local Comercial"}),i.jsx("option",{value:"terreno",children:"Terreno"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Oy,{className:"inline h-4 w-4 mr-1"}),"Búsqueda"]}),i.jsxs("button",{onClick:m,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[i.jsx(If,{className:"inline h-4 w-4 mr-2"}),"Buscar"]})]})]})})]})})]}),l?i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 space-y-16",children:[r.length>0&&i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900 flex items-center",children:"⚡ Oportunidades Urgentes"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Propiedades que requieren decisión rápida"})]}),i.jsxs(q,{to:"/properties?is_urgent=true",className:"flex items-center text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas ",i.jsx(Oa,{className:"h-4 w-4 ml-1"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(d=>i.jsx(f,{property:d},d.id))})]}),e.length>0&&i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[i.jsx(vr,{className:"h-8 w-8 text-yellow-500 mr-2"}),"Propiedades Destacadas"]}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Selección especial de nuestros mejores inmuebles"})]}),i.jsxs(q,{to:"/properties?is_featured=true",className:"flex items-center text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas ",i.jsx(Oa,{className:"h-4 w-4 ml-1"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(d=>i.jsx(f,{property:d},d.id))})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Últimas Propiedades"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Recién publicadas por nuestros agentes"})]}),i.jsxs(q,{to:"/properties",className:"flex items-center text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas ",i.jsx(Oa,{className:"h-4 w-4 ml-1"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(d=>i.jsx(f,{property:d},d.id))})]}),i.jsxs("section",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 md:p-12 text-white text-center",children:[i.jsx(dr,{className:"h-16 w-16 mx-auto mb-6 text-blue-200"}),i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"¿Eres agente inmobiliario?"}),i.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Únete a nuestra plataforma y llega a miles de compradores potenciales. Gestiona tus propiedades de forma profesional."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(q,{to:"/become-agent",className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors",children:"Ser Agente"}),i.jsx(q,{to:"/properties",className:"border border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Explorar Propiedades"})]})]}),i.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[i.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[s.length+e.length,"+"]}),i.jsx("div",{className:"text-gray-600",children:"Propiedades Activas"})]}),i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[i.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"50+"}),i.jsx("div",{className:"text-gray-600",children:"Agentes Verificados"})]}),i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md",children:[i.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"200+"}),i.jsx("div",{className:"text-gray-600",children:"Clientes Satisfechos"})]})]})]})]})}function Gy(){const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState("grid"),[l,o]=N.useState({property_type:"",transaction_type:"",city:"",min_price:"",max_price:"",bedrooms:""});N.useEffect(()=>{c()},[l]);const c=async()=>{n(!0);try{let f=$.from("properties").select("*").eq("status","published").order("created_at",{ascending:!1});l.property_type&&(f=f.eq("property_type",l.property_type)),l.transaction_type&&(f=f.eq("transaction_type",l.transaction_type)),l.city&&(f=f.ilike("city",`%${l.city}%`)),l.min_price&&(f=f.gte("price",parseFloat(l.min_price))),l.max_price&&(f=f.lte("price",parseFloat(l.max_price))),l.bedrooms&&(f=f.eq("bedrooms",parseInt(l.bedrooms)));const{data:d,error:v}=await f;if(v)throw v;t(d||[])}catch(f){console.error("Error fetching properties:",f)}n(!1)},u=(f,d)=>{o(v=>({...v,[f]:d}))},h=(f,d)=>{const v=new Intl.NumberFormat("es-MX",{style:"currency",currency:"USD"});return d==="alquiler"?`${v.format(f)}/mes`:v.format(f)},m=f=>({casa:"Casa",departamento:"Departamento",oficina:"Oficina",local_comercial:"Local Comercial",terreno:"Terreno",bodega:"Bodega",quinta:"Quinta",penthouse:"Penthouse"})[f]||f;return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de operación"}),i.jsxs("select",{className:"input-field",value:l.transaction_type,onChange:f=>u("transaction_type",f.target.value),children:[i.jsx("option",{value:"",children:"Cualquiera"}),i.jsx("option",{value:"venta",children:"Comprar"}),i.jsx("option",{value:"alquiler",children:"Rentar"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de propiedad"}),i.jsxs("select",{className:"input-field",value:l.property_type,onChange:f=>u("property_type",f.target.value),children:[i.jsx("option",{value:"",children:"Cualquiera"}),i.jsx("option",{value:"casa",children:"Casa"}),i.jsx("option",{value:"departamento",children:"Departamento"}),i.jsx("option",{value:"oficina",children:"Oficina"}),i.jsx("option",{value:"local_comercial",children:"Local Comercial"}),i.jsx("option",{value:"terreno",children:"Terreno"}),i.jsx("option",{value:"bodega",children:"Bodega"}),i.jsx("option",{value:"quinta",children:"Quinta"}),i.jsx("option",{value:"penthouse",children:"Penthouse"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),i.jsx("input",{type:"text",placeholder:"Cualquier ciudad",className:"input-field",value:l.city,onChange:f=>u("city",f.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio mínimo"}),i.jsx("input",{type:"number",placeholder:"$ Min",className:"input-field",value:l.min_price,onChange:f=>u("min_price",f.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio máximo"}),i.jsx("input",{type:"number",placeholder:"$ Max",className:"input-field",value:l.max_price,onChange:f=>u("max_price",f.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Habitaciones"}),i.jsxs("select",{className:"input-field",value:l.bedrooms,onChange:f=>u("bedrooms",f.target.value),children:[i.jsx("option",{value:"",children:"Cualquiera"}),i.jsx("option",{value:"1",children:"1+"}),i.jsx("option",{value:"2",children:"2+"}),i.jsx("option",{value:"3",children:"3+"}),i.jsx("option",{value:"4",children:"4+"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{className:`p-2 rounded ${s==="grid"?"bg-primary-100 text-primary-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>a("grid"),children:i.jsx(Ry,{className:"h-5 w-5"})}),i.jsx("button",{className:`p-2 rounded ${s==="list"?"bg-primary-100 text-primary-600":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>a("list"),children:i.jsx(Ay,{className:"h-5 w-5"})})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[e.length," propiedades encontradas"]})}),r?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):i.jsx("div",{className:`${s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"}`,children:e.map(f=>i.jsxs("div",{className:`card ${s==="list"?"flex":""}`,children:[i.jsxs("div",{className:`relative ${s==="list"?"w-80 flex-shrink-0":""}`,children:[i.jsx("img",{src:f.images[0]||"/placeholder-property.jpg",alt:f.title,className:`${s==="list"?"w-full h-64 object-cover":"w-full h-48 object-cover"}`}),i.jsx("div",{className:"absolute top-4 left-4 bg-primary-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:f.transaction_type==="venta"?"Venta":"Alquiler"})]}),i.jsxs("div",{className:`p-6 ${s==="list"?"flex-1":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.title}),i.jsx("span",{className:"text-sm bg-gray-100 text-gray-700 px-2 py-1 rounded",children:m(f.property_type)})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[i.jsx(yr,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{className:"text-sm",children:[f.city,", ",f.province]})]}),i.jsx("p",{className:`text-gray-600 mb-4 ${s==="list"?"line-clamp-2":"line-clamp-3"}`,children:f.description}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:"text-2xl font-bold text-primary-600",children:h(f.price,f.transaction_type)}),f.bedrooms&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsxs("span",{children:[f.bedrooms," hab"]}),f.bathrooms&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs("span",{children:[f.bathrooms," baños"]})]}),f.area_total&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs("span",{children:[f.area_total,"m²"]})]})]})]}),i.jsx(q,{to:`/properties/${f.id}`,className:"btn-primary w-full text-center block",children:"Ver Detalles"})]})]},f.id))}),!r&&e.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-gray-500 text-lg",children:"No se encontraron propiedades con los filtros seleccionados"}),i.jsx("button",{onClick:()=>o({property_type:"",transaction_type:"",city:"",min_price:"",max_price:"",bedrooms:""}),className:"btn-secondary mt-4",children:"Limpiar Filtros"})]})]})]})}function Qy(){const[e,t]=N.useState([]),[r,n]=N.useState(!1),s=async()=>{n(!0);const a=[],l="https://vxmpifukfohjafrbiqvw.supabase.co/storage/v1/object/public/property-images/5982d0f7-0cc1-43bb-b38f-c72461ee9838/1754543096042-4t13882ei14.png";try{const o=await fetch(l,{method:"HEAD"});a.push({test:"Fetch HEAD request",status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries()),success:o.ok})}catch(o){a.push({test:"Fetch HEAD request",error:o instanceof Error?o.message:String(o),success:!1})}try{const o=await fetch(l);a.push({test:"Fetch GET request",status:o.status,statusText:o.statusText,contentType:o.headers.get("content-type"),contentLength:o.headers.get("content-length"),success:o.ok})}catch(o){a.push({test:"Fetch GET request",error:o instanceof Error?o.message:String(o),success:!1})}try{const{data:o,error:c}=await $.storage.from("property-images").list("5982d0f7-0cc1-43bb-b38f-c72461ee9838");a.push({test:"Supabase storage list",data:o,error:c,success:!c})}catch(o){a.push({test:"Supabase storage list",error:o instanceof Error?o.message:String(o),success:!1})}try{const{data:o}=$.storage.from("property-images").getPublicUrl("5982d0f7-0cc1-43bb-b38f-c72461ee9838/1754543096042-4t13882ei14.png");a.push({test:"Supabase getPublicUrl",publicUrl:o.publicUrl,matches:o.publicUrl===l,success:!0})}catch(o){a.push({test:"Supabase getPublicUrl",error:o instanceof Error?o.message:String(o),success:!1})}try{const{data:o,error:c}=await $.from("storage.objects").select("*").eq("bucket_id","property-images").limit(1);a.push({test:"Query storage.objects",data:o,error:c,success:!c})}catch(o){a.push({test:"Query storage.objects",error:o instanceof Error?o.message:String(o),success:!1})}t(a),n(!1)};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🔍 Diagnóstico de Imágenes"}),i.jsx("button",{onClick:s,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:r?"Probando...":"Ejecutar Pruebas"}),e.length>0&&i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Resultados:"}),e.map((a,l)=>i.jsxs("div",{className:`p-4 rounded border-l-4 ${a.success?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[i.jsx("h4",{className:"font-medium",children:a.test}),i.jsx("pre",{className:"mt-2 text-sm overflow-auto",children:JSON.stringify(a,null,2)})]},l))]})]})}function Jy(){const{id:e}=Zh(),[t,r]=N.useState(null),[n,s]=N.useState(!0),[a,l]=N.useState(0),[o,c]=N.useState(!1);N.useEffect(()=>{e&&u(e)},[e]);const u=async f=>{var d;s(!0);try{const{data:v,error:g}=await $.from("properties").select("*").eq("id",f).eq("status","published").single();if(g)throw g;if(v){const{data:j}=await $.from("agents").select("full_name, phone, email").eq("id",v.agent_id).single();r({...v,agents:j}),console.log("Property data loaded:",{id:v.id,title:v.title,images:v.images,imagesLength:(d=v.images)==null?void 0:d.length,imagesType:typeof v.images}),v.images&&v.images.length>0&&(console.log("🖼️ URLs de imágenes encontradas:"),v.images.forEach((y,p)=>{console.log(`  ${p+1}. ${y}`)})),await $.rpc("increment_property_views",{property_uuid:f}),await $.from("property_views").insert({property_id:f,viewer_ip:null,viewer_user_agent:navigator.userAgent,referrer:document.referrer||null,session_id:sessionStorage.getItem("session_id")||"anonymous"})}}catch(v){console.error("Error fetching property:",v),r(null)}s(!1)},h=(f,d)=>{const v=new Intl.NumberFormat("es-MX",{style:"currency",currency:"USD"});return d==="alquiler"?`${v.format(f)}/mes`:v.format(f)},m=f=>({casa:"Casa",departamento:"Departamento",oficina:"Oficina",local_comercial:"Local Comercial",terreno:"Terreno",bodega:"Bodega",quinta:"Quinta",penthouse:"Penthouse"})[f]||f;return n?i.jsx("div",{className:"min-h-screen flex justify-center items-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(q,{to:"/properties",className:"flex items-center space-x-2 text-primary-600 hover:text-primary-700 transition-colors",children:[i.jsx(Py,{className:"h-5 w-5"}),i.jsx("span",{children:"Volver a propiedades"})]}),i.jsx("button",{onClick:()=>c(!o),className:`p-2 rounded-full transition-colors ${o?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i.jsx(ji,{className:`h-6 w-6 ${o?"fill-current":""}`})})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"mb-8 p-4 bg-yellow-50 border-2 border-yellow-200 rounded-lg",children:[i.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-2",children:"⚠️ DIAGNÓSTICO DE IMÁGENES"}),i.jsx("p",{className:"text-yellow-700 mb-4",children:"Herramienta temporal para diagnosticar problemas con las imágenes"}),i.jsx(Qy,{})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t.images&&t.images.length>0?t.images[a]:"https://via.placeholder.com/800x400/f3f4f6/9ca3af?text=Sin+Imagen",alt:t.title,className:"w-full h-96 object-cover rounded-lg",onError:f=>{console.log("Error loading image:",t.images[a]),f.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjNmNGY2Ii8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzljYTNhZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkVycm9yIGNhcmdhbmRvIGltYWdlbjwvdGV4dD48L3N2Zz4=",f.currentTarget.onerror=null}}),t.images&&t.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>l(a>0?a-1:t.images.length-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:"←"}),i.jsx("button",{onClick:()=>l(a<t.images.length-1?a+1:0),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:"→"})]})]}),t.images&&t.images.length>1&&i.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:t.images.map((f,d)=>i.jsx("button",{onClick:()=>l(d),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${d===a?"border-primary-600":"border-gray-200 hover:border-gray-300"}`,children:i.jsx("img",{src:f,alt:`${t.title} - imagen ${d+1}`,className:"w-full h-full object-cover",onError:v=>{console.log("Error loading thumbnail:",f),v.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5FcnJvcjwvdGV4dD48L3N2Zz4=",v.currentTarget.onerror=null}})},d))})]}),i.jsxs("div",{className:"mt-8 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),i.jsx("span",{className:"text-sm bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:m(t.property_type)})]}),i.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[i.jsx(yr,{className:"h-5 w-5 mr-2"}),i.jsxs("span",{children:[t.address,", ",t.city,", ",t.province]})]}),i.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-6",children:h(t.price,t.transaction_type)})]}),(t.bedrooms||t.bathrooms||t.area_total||t.parking_spaces&&t.parking_spaces>0)&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Características"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.bedrooms&&t.bedrooms>0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ko,{className:"h-5 w-5 text-gray-600"}),i.jsxs("span",{className:"text-gray-700",children:[t.bedrooms," habitaciones"]})]}),t.bathrooms&&t.bathrooms>0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ho,{className:"h-5 w-5 text-gray-600"}),i.jsxs("span",{className:"text-gray-700",children:[t.bathrooms," baños"]})]}),t.area_total&&t.area_total>0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Go,{className:"h-5 w-5 text-gray-600"}),i.jsxs("span",{className:"text-gray-700",children:[t.area_total," m²"]})]}),t.parking_spaces&&t.parking_spaces>0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Pf,{className:"h-5 w-5 text-gray-600"}),i.jsxs("span",{className:"text-gray-700",children:[t.parking_spaces," estacionamientos"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Descripción"}),i.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:t.description})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información de la propiedad"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Tipo de operación:"}),i.jsx("p",{className:"font-medium",children:t.transaction_type==="venta"?"Venta":"Alquiler"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Estado:"}),i.jsx("p",{className:"font-medium",children:t.status==="published"?"Disponible":"No disponible"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Publicado:"}),i.jsx("p",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString("es-MX")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Actualizado:"}),i.jsx("p",{className:"font-medium",children:new Date(t.updated_at).toLocaleDateString("es-MX")})]})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"card",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contactar al agente"}),i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-600 text-white rounded-full flex items-center justify-center",children:i.jsx(sn,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Agente PropFinder"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Agente certificado"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[i.jsx(Ji,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"+52 55 1234 5678"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[i.jsx(Qi,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:"contacto@propfinder.com"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{className:"btn-primary w-full",children:"Llamar ahora"}),i.jsx("button",{className:"btn-secondary w-full",children:"Enviar mensaje"}),i.jsx("button",{className:"btn-secondary w-full",children:"Agendar visita"})]})]})}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calculadora de hipoteca"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enganche (%)"}),i.jsx("input",{type:"number",defaultValue:"20",className:"input-field",min:"0",max:"100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plazo (años)"}),i.jsx("input",{type:"number",defaultValue:"20",className:"input-field",min:"1",max:"30"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tasa de interés (%)"}),i.jsx("input",{type:"number",defaultValue:"8.5",step:"0.1",className:"input-field"})]}),i.jsx("button",{className:"btn-secondary w-full",children:"Calcular mensualidad"})]})]})})]})]})]})]}):i.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Propiedad no encontrada"}),i.jsx(q,{to:"/properties",className:"btn-primary",children:"Ver todas las propiedades"})]})}function Yy(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[s,a]=N.useState(!1),[l,o]=N.useState(""),{signIn:c,user:u,isAdmin:h,loading:m}=bt();if(m)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(u&&h)return i.jsx(yt,{to:"/admin",replace:!0});if(u&&!h)return i.jsx(yt,{to:"/",replace:!0});const f=async d=>{d.preventDefault(),a(!0),o("");try{const{error:v}=await c(e,r);v&&o(v.message||"Error al iniciar sesión")}catch{o("Error inesperado al iniciar sesión")}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:i.jsx(Ly,{className:"h-6 w-6 text-blue-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Iniciar Sesión - Admin"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Acceso exclusivo para administradores"})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[l&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(bi,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error de autenticación"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:l})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(sn,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email del administrador",value:e,onChange:d=>t(d.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(zl,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",value:r,onChange:d=>n(d.target.value)})]})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Iniciando sesión..."]}):"Iniciar Sesión"})})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-xs text-gray-500",children:"Demo: admin@propfinder.com / admin123"})})]})})}function Zy(){const[e,t]=N.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[r,n]=N.useState(!1),[s,a]=N.useState(""),[l,o]=N.useState(!1),{signUp:c,user:u}=bt();if(u)return i.jsx(yt,{to:"/",replace:!0});const h=f=>{t({...e,[f.target.name]:f.target.value})},m=async f=>{if(f.preventDefault(),n(!0),a(""),!e.firstName.trim()||!e.lastName.trim()){a("El nombre y apellido son obligatorios"),n(!1);return}if(e.password!==e.confirmPassword){a("Las contraseñas no coinciden"),n(!1);return}if(e.password.length<6){a("La contraseña debe tener al menos 6 caracteres"),n(!1);return}try{const d=`${e.firstName.trim()} ${e.lastName.trim()}`,{error:v}=await c(e.email,e.password,d,e.firstName.trim(),e.lastName.trim());v?a(v.message||"Error al crear la cuenta"):o(!0)}catch{a("Error inesperado al crear la cuenta")}finally{n(!1)}};return l?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100",children:i.jsx(or,{className:"h-6 w-6 text-green-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"¡Cuenta Creada Exitosamente!"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Tu cuenta ha sido creada como comprador. Revisa tu email para confirmar tu cuenta."}),i.jsx("div",{className:"mt-6",children:i.jsx(q,{to:"/login",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Iniciar Sesión"})})]})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100",children:i.jsx(qy,{className:"h-6 w-6 text-blue-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Crear Cuenta"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Únete a PropFinder como comprador"})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[s&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(bi,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:s})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"firstName",className:"sr-only",children:"Nombre"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(sn,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Nombre",value:e.firstName,onChange:h})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lastName",className:"sr-only",children:"Apellido"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(sn,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Apellido",value:e.lastName,onChange:h})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Qi,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email",value:e.email,onChange:h})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(zl,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Contraseña",value:e.password,onChange:h})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirmar contraseña"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(zl,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirmar contraseña",value:e.confirmPassword,onChange:h})]})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando cuenta..."]}):"Crear Cuenta"})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["¿Ya tienes cuenta?"," ",i.jsx(q,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Iniciar sesión"})]})})]})]})})}function Xy(){const{user:e,signOut:t,isAdmin:r,loading:n}=bt(),[s,a]=N.useState([]),[l,o]=N.useState(!0),[c,u]=N.useState(null),[h,m]=N.useState(""),[f,d]=N.useState(null),v=async()=>{try{o(!0);const{data:k,error:w}=await $.from("agents").select("*").order("applied_at",{ascending:!1});if(w){console.error("Error cargando aplicaciones:",w);return}a(k||[])}catch(k){console.error("Error cargando aplicaciones:",k)}finally{o(!1)}},g=async(k,w)=>{try{d(k);const{error:_}=await $.from("agents").update({approval_status:w,approval_notes:h,approved_by:e==null?void 0:e.id,publicaciones_disponibles:w==="approved"?2:0,is_verified:w==="approved"}).eq("id",k);if(_)throw _;if(w==="approved"){const{error:S}=await $.from("user_profiles").update({role:"agent"}).eq("id",k);if(S)throw S}await v(),u(null),m("")}catch(_){console.error("Error procesando aplicación:",_),alert("Error al procesar la aplicación")}finally{d(null)}};if(N.useEffect(()=>{e&&r&&v()},[e,r]),n)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!e||!r)return i.jsx(yt,{to:"/login",replace:!0});const j=async()=>{await t()},y=s.filter(k=>k.approval_status==="pending"),p=s.filter(k=>k.approval_status==="approved"),x=s.filter(k=>k.approval_status==="rejected"),b=k=>{switch(k){case"pending":return i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Pendiente"});case"approved":return i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aprobado"});case"rejected":return i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Rechazado"});default:return i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Desconocido"})}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center py-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(sn,{className:"h-8 w-8 text-blue-600 mr-3"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administrador"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Gestión de Aplicaciones de Agentes"})]})]}),i.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[i.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Cerrar Sesión"]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(ss,{className:"h-8 w-8 text-yellow-600"})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:y.length})]})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(or,{className:"h-8 w-8 text-green-600"})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aprobados"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.length})]})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Qo,{className:"h-8 w-8 text-red-600"})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Rechazados"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:x.length})]})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Ra,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{className:"ml-5",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.length})]})]})})})]}),i.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Aplicaciones de Agentes"})}),l?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ra,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay aplicaciones"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se han enviado aplicaciones para ser agente aún."})]}):i.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(k=>i.jsx("li",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Ra,{className:"h-10 w-10 text-gray-400"})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.full_name||k.email}),i.jsx("div",{className:"ml-2",children:b(k.approval_status)})]}),i.jsx("p",{className:"text-sm text-gray-500",children:k.email}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Aplicado:"," ",new Date(k.applied_at).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>u(k),className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(nn,{className:"h-4 w-4 mr-1"}),"Ver Detalles"]}),k.approval_status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{u(k),m("Aplicación aprobada. Bienvenido al equipo de agentes.")},disabled:f===k.id,className:"inline-flex items-center px-3 py-1 border border-transparent rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:f===k.id?"Procesando...":"Aprobar"}),i.jsx("button",{onClick:()=>{u(k),m("Aplicación rechazada. Por favor revisa los requisitos.")},disabled:f===k.id,className:"inline-flex items-center px-3 py-1 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:f===k.id?"Procesando...":"Rechazar"})]})]})]})},k.id))})]})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles de la Aplicación"}),i.jsx("button",{onClick:()=>{u(null),m("")},className:"text-gray-400 hover:text-gray-600",children:i.jsx(Vy,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre Completo"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.full_name||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.phone||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Número de Licencia"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.license_number||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Empresa"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.company_name||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sitio Web"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.website_url||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripción"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.description||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),i.jsx("div",{className:"mt-1",children:b(c.approval_status)})]}),c.approval_status==="pending"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notas de Aprobación"}),i.jsx("textarea",{value:h,onChange:k=>m(k.target.value),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ingresa notas para el aplicante..."})]}),c.approval_notes&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notas del Administrador"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:c.approval_notes})]})]}),c.approval_status==="pending"&&i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>g(c.id,"rejected"),disabled:f===c.id,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:f===c.id?"Procesando...":"Rechazar"}),i.jsx("button",{onClick:()=>g(c.id,"approved"),disabled:f===c.id,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:f===c.id?"Procesando...":"Aprobar"})]})]})})]})}function ev(){const{user:e,isAgent:t,userProfile:r,refreshProfile:n}=bt(),[s,a]=N.useState({phone:"",licenseNumber:"",companyName:"",websiteUrl:"",description:""}),[l,o]=N.useState(!1),[c,u]=N.useState(""),[h,m]=N.useState(!1),[f,d]=N.useState(null),[v,g]=N.useState(!0);if(N.useEffect(()=>{(async()=>{if(e)try{const{data:x,error:b}=await $.from("agents").select("id, approval_status, approval_notes").eq("id",e.id).single();!b&&x&&d(x)}catch{}finally{g(!1)}})()},[e]),!e)return i.jsx(yt,{to:"/login",replace:!0});if(t||(f==null?void 0:f.approval_status)==="approved")return i.jsx(yt,{to:"/agent-dashboard",replace:!0});if(v)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if((f==null?void 0:f.approval_status)==="pending")return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-yellow-100",children:i.jsx(ss,{className:"h-8 w-8 text-yellow-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Aplicación Pendiente"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Tu solicitud para ser agente está siendo revisada por un administrador."}),i.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(bi,{className:"h-5 w-5 text-yellow-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"¿Qué sigue?"}),i.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Un administrador revisará tu aplicación"}),i.jsx("li",{children:"Recibirás una notificación cuando sea aprobada"}),i.jsx("li",{children:"Una vez aprobada, tendrás acceso completo como agente"})]})})]})]})}),i.jsx("button",{onClick:()=>window.location.href="/",className:"mt-6 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Volver al Inicio"})]})})});if((f==null?void 0:f.approval_status)==="rejected")return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-red-100",children:i.jsx(Qo,{className:"h-8 w-8 text-red-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Aplicación Rechazada"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Tu solicitud para ser agente fue rechazada."}),f.approval_notes&&i.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-md p-4",children:i.jsxs("p",{className:"text-sm text-red-700",children:[i.jsx("strong",{children:"Motivo:"})," ",f.approval_notes]})}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx("button",{onClick:()=>{d(null),u("")},className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Aplicar Nuevamente"}),i.jsx("button",{onClick:()=>window.location.href="/",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Volver al Inicio"})]})]})})});const j=p=>{a({...s,[p.target.name]:p.target.value})},y=async p=>{var x,b,k,w,_;p.preventDefault(),o(!0),u("");try{const{data:S}=await $.from("agents").select("id, approval_status, approval_notes").eq("id",e.id).single();if(S){if(S.approval_status==="pending"){u("Ya tienes una aplicación pendiente de aprobación. Espera la respuesta del administrador."),o(!1);return}else if(S.approval_status==="approved"){u("Ya eres un agente aprobado."),o(!1);return}else if(S.approval_status==="rejected"){u(`Tu aplicación fue rechazada. Motivo: ${S.approval_notes||"Contacta al administrador"}`),o(!1);return}}const A=(r==null?void 0:r.full_name)||`${(r==null?void 0:r.first_name)||""} ${(r==null?void 0:r.last_name)||""}`.trim()||((x=e.user_metadata)==null?void 0:x.full_name)||((b=e.user_metadata)==null?void 0:b.name)||((k=e.email)==null?void 0:k.split("@")[0])||"Usuario",{error:I}=await $.from("agents").insert({id:e.id,full_name:A,first_name:(r==null?void 0:r.first_name)||((w=e.user_metadata)==null?void 0:w.first_name)||"",last_name:(r==null?void 0:r.last_name)||((_=e.user_metadata)==null?void 0:_.last_name)||"",email:e.email,phone:s.phone,license_number:s.licenseNumber||null,company_name:s.companyName||null,website_url:s.websiteUrl||null,description:s.description||null,publicaciones_disponibles:0,is_verified:!1,rating:0,total_ratings:0,approval_status:"pending",applied_at:new Date().toISOString()});if(I)throw I;const{error:C}=await $.from("user_profiles").update({phone:s.phone,updated_at:new Date().toISOString()}).eq("id",e.id);if(C)throw C;await n(),m(!0)}catch(S){S.code==="23505"?u("Ya tienes una aplicación registrada. Contacta al administrador."):u(S.message||"Error al enviar aplicación")}finally{o(!1)}};return h?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-yellow-100",children:i.jsx(or,{className:"h-8 w-8 text-yellow-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"¡Aplicación Enviada!"}),i.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Tu solicitud para ser agente ha sido enviada y está pendiente de aprobación"}),i.jsx("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(vr,{className:"h-5 w-5 text-yellow-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"¿Qué sigue?"}),i.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:i.jsxs("ul",{className:"list-disc space-y-1 ml-5",children:[i.jsx("li",{children:"Un administrador revisará tu aplicación"}),i.jsx("li",{children:"Recibirás una notificación cuando sea aprobada"}),i.jsx("li",{children:"Una vez aprobada, tendrás acceso completo como agente"}),i.jsx("li",{children:"Incluirá 2 publicaciones iniciales para subir propiedades"})]})})]})]})}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:()=>window.location.href="/",className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Volver al Inicio"})})]})})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Of,{className:"h-8 w-8 text-blue-600"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Convertirse en Agente"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Completa tu perfil para comenzar a vender propiedades"})]})]}),c&&i.jsx("div",{className:"mb-6 rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(bi,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("div",{className:"mt-2 text-sm text-red-700",children:c})]})]})}),i.jsxs("form",{onSubmit:y,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Teléfono *"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ji,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"tel",name:"phone",id:"phone",required:!0,className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: +57 300 123 4567",value:s.phone,onChange:j})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"licenseNumber",className:"block text-sm font-medium text-gray-700",children:"Número de Licencia"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Iy,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",name:"licenseNumber",id:"licenseNumber",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: LIC-2024-001",value:s.licenseNumber,onChange:j})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Empresa/Inmobiliaria"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(dr,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",name:"companyName",id:"companyName",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ej: Inmobiliaria XYZ",value:s.companyName,onChange:j})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-gray-700",children:"Sitio Web"}),i.jsx("div",{className:"mt-1",children:i.jsx("input",{type:"url",name:"websiteUrl",id:"websiteUrl",className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"https://mi-sitio-web.com",value:s.websiteUrl,onChange:j})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripción Profesional"}),i.jsx("div",{className:"mt-1",children:i.jsx("textarea",{name:"description",id:"description",rows:4,className:"block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Describe tu experiencia, especialización y qué te hace único como agente inmobiliario...",value:s.description,onChange:j})})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(vr,{className:"h-5 w-5 text-blue-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Beneficios de ser agente"}),i.jsx("div",{className:"mt-2 text-sm text-blue-700",children:i.jsxs("ul",{className:"list-disc space-y-1 ml-5",children:[i.jsx("li",{children:"2 publicaciones iniciales gratuitas"}),i.jsx("li",{children:"Publica propiedades ilimitadas"}),i.jsx("li",{children:"Panel de control personalizado"}),i.jsx("li",{children:"Gestión de leads y contactos"}),i.jsx("li",{children:"Estadísticas de rendimiento"})]})})]})]})}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>window.history.back(),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:l,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando..."]}):"Convertirse en Agente"})]})]})]})})})})}function Ou(){var l;const{user:e,isAgent:t,agentProfile:r,userProfile:n,loading:s}=bt();if(s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!e||!t)return i.jsx(yt,{to:"/become-agent",replace:!0});const a=[{name:"Propiedades Activas",value:"0",icon:dr,color:"bg-blue-500"},{name:"Publicaciones Disponibles",value:(r==null?void 0:r.publicaciones_disponibles)||"0",icon:Fl,color:"bg-green-500"},{name:"Rating Promedio",value:((l=r==null?void 0:r.rating)==null?void 0:l.toFixed(1))||"0.0",icon:vr,color:"bg-yellow-500"},{name:"Vistas Totales",value:"0",icon:nn,color:"bg-purple-500"}];return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center py-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(dr,{className:"h-8 w-8 text-blue-600 mr-3"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Agente"}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Bienvenido, ",n==null?void 0:n.full_name]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[r!=null&&r.is_verified?i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✓ Verificado"}):i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"⏳ Pendiente de verificación"}),i.jsxs(q,{to:"/add-property",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Nueva Propiedad"]})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map(o=>i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:`h-8 w-8 rounded-md ${o.color} flex items-center justify-center`,children:i.jsx(o.icon,{className:"h-4 w-4 text-white"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:o.name}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.value})]})})]})})},o.name))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información del Agente"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Información Personal"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[i.jsx(Qi,{className:"h-4 w-4 text-gray-400 mr-2"}),n==null?void 0:n.email]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[i.jsx(Ji,{className:"h-4 w-4 text-gray-400 mr-2"}),(n==null?void 0:n.phone)||"No especificado"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Información Profesional"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-gray-900",children:[i.jsx("span",{className:"font-medium",children:"Empresa:"})," ",(r==null?void 0:r.company_name)||"No especificada"]}),i.jsxs("div",{className:"text-sm text-gray-900",children:[i.jsx("span",{className:"font-medium",children:"Licencia:"})," ",(r==null?void 0:r.license_number)||"No especificada"]}),(r==null?void 0:r.website_url)&&i.jsxs("div",{className:"text-sm text-gray-900",children:[i.jsx("span",{className:"font-medium",children:"Web:"})," ",i.jsx("a",{href:r.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-500",children:r.website_url})]})]})]})]}),(r==null?void 0:r.description)&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Descripción"}),i.jsx("p",{className:"text-sm text-gray-900",children:r.description})]}),i.jsxs("div",{className:"mt-6 flex space-x-3",children:[i.jsxs(q,{to:"/my-properties",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(dr,{className:"h-4 w-4 mr-2"}),"Mis Propiedades"]}),i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(zy,{className:"h-4 w-4 mr-2"}),"Editar Perfil"]})]})]})})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Estado de Verificación"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mr-3"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Cuenta creada"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full mr-3"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Información completada"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-2 w-2 bg-yellow-500 rounded-full mr-3"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Verificación pendiente"})]})]})]})}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gestión de Publicaciones"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Disponibles"}),i.jsx("span",{className:"font-medium text-green-600",children:(r==null?void 0:r.publicaciones_disponibles)||0})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Utilizadas"}),i.jsx("span",{className:"font-medium text-gray-900",children:(r==null?void 0:r.total_publicaciones_usadas)||0})]}),i.jsx("div",{className:"pt-3 border-t border-gray-200",children:i.jsxs(q,{to:"/add-property",className:"w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Nueva Propiedad"]})})]})]})}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Actividad Reciente"}),i.jsxs("div",{className:"text-center py-6",children:[i.jsx(By,{className:"mx-auto h-8 w-8 text-gray-400"}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No hay actividad reciente"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Publica tu primera propiedad para comenzar"})]})]})})]})]})]})]})}async function tv({file:e,userId:t,bucketName:r="property-images"}){try{if(!e.type.startsWith("image/"))throw new Error("El archivo debe ser una imagen");const n=e.name.split(".").pop(),s=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${n}`;console.log("📤 Subiendo imagen:",{fileName:s,originalName:e.name,type:e.type,size:e.size});const{data:a,error:l}=await $.storage.from(r).upload(s,e,{contentType:e.type,cacheControl:"3600",upsert:!1});if(l)throw console.error("❌ Error subiendo imagen:",l),l;console.log("✅ Imagen subida exitosamente:",a);const{data:o}=$.storage.from(r).getPublicUrl(a.path);return console.log("🔗 URL pública generada:",o.publicUrl),{url:o.publicUrl,path:a.path}}catch(n){return console.error("💥 Error en uploadPropertyImage:",n),{url:"",path:"",error:n instanceof Error?n.message:"Error desconocido"}}}async function rv(e,t){console.log("� uploadMultiplePropertyImages INICIADA con:",{fileCount:e.length,userId:t,files:e.map(l=>({name:l.name,type:l.type,size:l.size}))});const r=e.map((l,o)=>(console.log(`🔵 Creando promesa para archivo ${o+1}:`,{name:l.name,type:l.type}),tv({file:l,userId:t})));console.log("🔵 Ejecutando Promise.all para",r.length,"archivos...");const n=await Promise.all(r);console.log("🔵 Resultados de Promise.all:",n);const s=n.filter(l=>!l.error).map(l=>l.url),a=n.filter(l=>l.error);return a.length>0&&console.warn("⚠️ Algunas imágenes fallaron:",a),console.log("✅ Imágenes subidas exitosamente:",s.length),s}const nv=[{value:"casa",label:"Casa"},{value:"departamento",label:"Departamento"},{value:"oficina",label:"Oficina"},{value:"local_comercial",label:"Local Comercial"},{value:"terreno",label:"Terreno"},{value:"bodega",label:"Bodega"},{value:"quinta",label:"Quinta"},{value:"penthouse",label:"Penthouse"}],sv=["Piscina","Gimnasio","Seguridad 24h","Ascensor","Balcón","Terraza","Jardín","BBQ","Salón comunal","Cancha deportiva","Área de juegos","Portero"],iv=[{key:"amueblado",label:"Amueblado"},{key:"mascotas_permitidas",label:"Mascotas Permitidas"},{key:"aire_acondicionado",label:"Aire Acondicionado"},{key:"calefaccion",label:"Calefacción"},{key:"internet_incluido",label:"Internet Incluido"},{key:"servicios_incluidos",label:"Servicios Incluidos"},{key:"cocina_equipada",label:"Cocina Equipada"},{key:"lavanderia",label:"Lavandería"}];function av(){const{user:e,agentProfile:t,refreshProfile:r}=bt(),n=Fi(),s=N.useRef(null),[a,l]=N.useState(!1),[o,c]=N.useState(!1),[u,h]=N.useState([]),[m,f]=N.useState([]),[d,v]=N.useState({title:"",description:"",price:"",currency:"USD",property_type:"casa",transaction_type:"venta",bedrooms:"",bathrooms:"",area_total:"",area_constructed:"",parking_spaces:"0",floor_number:"",total_floors:"",year_built:"",address:"",neighborhood:"",city:"",province:"",postal_code:"",latitude:"",longitude:"",amenities:[],features:{},is_featured:!1,is_urgent:!1});if(!e||(t==null?void 0:t.approval_status)!=="approved")return i.jsx(yt,{to:"/dashboard",replace:!0});if((t==null?void 0:t.publicaciones_disponibles)<=0)return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsx("div",{className:"max-w-3xl mx-auto px-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[i.jsx(Ks,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sin Publicaciones Disponibles"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"No tienes publicaciones disponibles para crear una nueva propiedad. Adquiere más publicaciones para continuar."}),i.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700",children:"Volver al Dashboard"})]})})});const g=w=>{const{name:_,value:S,type:A}=w.target;if(A==="checkbox"){const I=w.target.checked;v(C=>({...C,[_]:I}))}else v(I=>({...I,[_]:S}))},j=w=>{v(_=>({..._,amenities:_.amenities.includes(w)?_.amenities.filter(S=>S!==w):[..._.amenities,w]}))},y=w=>{v(_=>({..._,features:{..._.features,[w]:!_.features[w]}}))},p=w=>{const _=Array.from(w.target.files||[]);if(_.length===0)return;const S=10,A=u.length,I=S-A,C=_.slice(0,I);h(R=>[...R,...C]),C.forEach(R=>{const V=new FileReader;V.onload=fe=>{f(We=>{var Ue;return[...We,(Ue=fe.target)==null?void 0:Ue.result]})},V.readAsDataURL(R)})},x=w=>{h(_=>_.filter((S,A)=>A!==w)),f(_=>_.filter((S,A)=>A!==w))},b=async()=>{if(console.log("🔴 FUNCIÓN uploadImages LLAMADA - selectedImages:",u.length),u.length===0)return console.log("⚠️ No hay imágenes seleccionadas"),[];c(!0),console.log("🔴 setUploadingImages(true) - Estado cambiado");try{console.log("🚀 Iniciando subida de imágenes con nueva función..."),console.log("🔴 Llamando uploadMultiplePropertyImages con:",{imageCount:u.length,userId:e.id,images:u.map(_=>({name:_.name,type:_.type,size:_.size}))});const w=await rv(u,e.id);if(console.log("🔴 uploadMultiplePropertyImages COMPLETADO, URLs:",w),w.length===0)throw new Error("No se pudo subir ninguna imagen");return console.log("✅ Todas las imágenes subidas:",w),w}catch(w){throw console.error("💥 Error uploading images:",w),w}finally{c(!1)}},k=async(w,_="draft")=>{w.preventDefault(),l(!0);try{if(_==="published"&&(t==null?void 0:t.publicaciones_disponibles)<=0){alert("No tienes publicaciones disponibles");return}const S=await b(),A={agent_id:e.id,title:d.title,description:d.description,price:parseFloat(d.price),currency:d.currency,property_type:d.property_type,transaction_type:d.transaction_type,bedrooms:d.bedrooms?parseInt(d.bedrooms):null,bathrooms:d.bathrooms?parseFloat(d.bathrooms):null,area_total:d.area_total?parseFloat(d.area_total):null,area_constructed:d.area_constructed?parseFloat(d.area_constructed):null,parking_spaces:parseInt(d.parking_spaces),floor_number:d.floor_number?parseInt(d.floor_number):null,total_floors:d.total_floors?parseInt(d.total_floors):null,year_built:d.year_built?parseInt(d.year_built):null,address:d.address,neighborhood:d.neighborhood||null,city:d.city,province:d.province,country:"Ecuador",postal_code:d.postal_code||null,latitude:d.latitude?parseFloat(d.latitude):null,longitude:d.longitude?parseFloat(d.longitude):null,amenities:d.amenities,features:d.features,images:S,status:_,is_featured:d.is_featured,is_urgent:d.is_urgent,published_at:_==="published"?new Date().toISOString():null},{data:I,error:C}=await $.from("properties").insert(A).select().single();if(C)throw C;if(_==="published"){const{data:R,error:V}=await $.rpc("consume_publication",{agent_uuid:e.id});if(V)throw V;if(!R)throw await $.from("properties").delete().eq("id",I.id),new Error("No se pudo consumir la publicación");await r()}alert(_==="published"?"¡Propiedad publicada exitosamente!":"¡Propiedad guardada como borrador!"),n("/dashboard")}catch(S){console.error("Error creating property:",S),alert("Error al crear la propiedad: "+S.message)}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Agregar Nueva Propiedad"}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(Ks,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Publicaciones disponibles:"," ",t==null?void 0:t.publicaciones_disponibles]})]})]}),i.jsxs("form",{onSubmit:w=>k(w,"published"),className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx(hr,{className:"h-5 w-5 mr-2"}),"Información Básica"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título de la Propiedad *"}),i.jsx("input",{type:"text",name:"title",value:d.title,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Casa moderna con piscina en La Kennedy"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción"}),i.jsx("textarea",{name:"description",value:d.description,onChange:g,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe las características principales de la propiedad..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Propiedad *"}),i.jsx("select",{name:"property_type",value:d.property_type,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:nv.map(w=>i.jsx("option",{value:w.value,children:w.label},w.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Transacción *"}),i.jsxs("select",{name:"transaction_type",value:d.transaction_type,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"venta",children:"Venta"}),i.jsx("option",{value:"alquiler",children:"Alquiler"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),i.jsxs("div",{className:"flex",children:[i.jsxs("select",{name:"currency",value:d.currency,onChange:g,className:"px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"})]}),i.jsx("input",{type:"number",name:"price",value:d.price,onChange:g,required:!0,min:"0",step:"0.01",className:"flex-1 px-4 py-2 border border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"150000"})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"is_featured",checked:d.is_featured,onChange:g,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsxs("span",{className:"ml-2 text-sm text-gray-700 flex items-center",children:[i.jsx(vr,{className:"h-4 w-4 mr-1"}),"Destacar"]})]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"is_urgent",checked:d.is_urgent,onChange:g,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),i.jsxs("span",{className:"ml-2 text-sm text-gray-700 flex items-center",children:[i.jsx(Ks,{className:"h-4 w-4 mr-1"}),"Urgente"]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx(Go,{className:"h-5 w-5 mr-2"}),"Características"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Ko,{className:"inline h-4 w-4 mr-1"}),"Dormitorios"]}),i.jsx("input",{type:"number",name:"bedrooms",value:d.bedrooms,onChange:g,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Ho,{className:"inline h-4 w-4 mr-1"}),"Baños"]}),i.jsx("input",{type:"number",name:"bathrooms",value:d.bathrooms,onChange:g,min:"0",step:"0.5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Pf,{className:"inline h-4 w-4 mr-1"}),"Estacionamientos"]}),i.jsx("input",{type:"number",name:"parking_spaces",value:d.parking_spaces,onChange:g,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Área Total (m²)"}),i.jsx("input",{type:"number",name:"area_total",value:d.area_total,onChange:g,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Área Construida (m²)"}),i.jsx("input",{type:"number",name:"area_constructed",value:d.area_constructed,onChange:g,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Ty,{className:"inline h-4 w-4 mr-1"}),"Año de Construcción"]}),i.jsx("input",{type:"number",name:"year_built",value:d.year_built,onChange:g,min:"1900",max:new Date().getFullYear(),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piso"}),i.jsx("input",{type:"number",name:"floor_number",value:d.floor_number,onChange:g,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total de Pisos"}),i.jsx("input",{type:"number",name:"total_floors",value:d.total_floors,onChange:g,min:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx(yr,{className:"h-5 w-5 mr-2"}),"Ubicación"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección Completa *"}),i.jsx("input",{type:"text",name:"address",value:d.address,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Av. 9 de Octubre y Malecón"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barrio/Sector"}),i.jsx("input",{type:"text",name:"neighborhood",value:d.neighborhood,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: La Kennedy"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad *"}),i.jsx("input",{type:"text",name:"city",value:d.city,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Guayaquil"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provincia *"}),i.jsx("input",{type:"text",name:"province",value:d.province,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Guayas"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código Postal"}),i.jsx("input",{type:"text",name:"postal_code",value:d.postal_code,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"090150"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitud"}),i.jsx("input",{type:"number",name:"latitude",value:d.latitude,onChange:g,step:"any",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"-2.1709"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitud"}),i.jsx("input",{type:"number",name:"longitude",value:d.longitude,onChange:g,step:"any",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"-79.9224"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Amenidades"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:sv.map(w=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:d.amenities.includes(w),onChange:()=>j(w),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700",children:w})]},w))})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Características Adicionales"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:iv.map(w=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:d.features[w.key]||!1,onChange:()=>y(w.key),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700",children:w.label})]},w.key))})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[i.jsx(Fl,{className:"h-5 w-5 mr-2"}),"Imágenes de la Propiedad"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("input",{ref:s,type:"file",multiple:!0,accept:"image/*",onChange:p,className:"hidden"}),i.jsxs("button",{type:"button",onClick:()=>{var w;return(w=s.current)==null?void 0:w.click()},disabled:u.length>=10,className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Fl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-sm text-gray-600",children:u.length>=10?"Máximo 10 imágenes alcanzado":"Haz clic para subir imágenes (máximo 10)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Formatos: JPG, PNG, WebP"})]})]}),m.length>0&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map((w,_)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:w,alt:`Preview ${_+1}`,className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>x(_),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]},_))})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[i.jsx("button",{type:"button",onClick:w=>k(w,"draft"),disabled:a||o,className:"flex items-center justify-center px-6 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsxs(i.Fragment,{children:[i.jsx(ss,{className:"animate-spin h-4 w-4 mr-2"}),"Guardando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(My,{className:"h-4 w-4 mr-2"}),"Guardar Borrador"]})}),i.jsx("button",{type:"submit",disabled:a||o||!d.title||!d.price||!d.address,className:"flex items-center justify-center px-6 py-3 border border-transparent rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsxs(i.Fragment,{children:[i.jsx(ss,{className:"animate-spin h-4 w-4 mr-2"}),o?"Subiendo imágenes...":"Publicando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nn,{className:"h-4 w-4 mr-2"}),"Publicar Propiedad"]})})]})]})]})})}function lv(){const{user:e,agentProfile:t,refreshProfile:r}=bt(),[n,s]=N.useState([]),[a,l]=N.useState(!0),[o,c]=N.useState("all");if(!e||(t==null?void 0:t.approval_status)!=="approved")return i.jsx(yt,{to:"/dashboard",replace:!0});N.useEffect(()=>{u()},[o]);const u=async()=>{try{let d=$.from("properties").select("*").eq("agent_id",e.id).order("created_at",{ascending:!1});o!=="all"&&(d=d.eq("status",o));const{data:v,error:g}=await d;if(g)throw g;s(v||[])}catch(d){console.error("Error loading properties:",d)}finally{l(!1)}},h=async d=>{if(confirm("¿Estás seguro de eliminar esta propiedad?"))try{const{error:v}=await $.from("properties").delete().eq("id",d);if(v)throw v;s(g=>g.filter(j=>j.id!==d)),alert("Propiedad eliminada exitosamente")}catch(v){console.error("Error deleting property:",v),alert("Error al eliminar la propiedad")}},m=async(d,v)=>{try{const g=n.find(p=>p.id===d);if(!g)return;if(v==="published"&&g.status==="draft"&&(t==null?void 0:t.publicaciones_disponibles)<=0){alert("No tienes publicaciones disponibles");return}const j={status:v,updated_at:new Date().toISOString()};v==="published"&&g.status==="draft"&&(j.published_at=new Date().toISOString());const{error:y}=await $.from("properties").update(j).eq("id",d);if(y)throw y;if(v==="published"&&g.status==="draft"){const{data:p,error:x}=await $.rpc("consume_publication",{agent_uuid:e.id});if(x||!p){await $.from("properties").update({status:"draft",published_at:null}).eq("id",d),alert("No se pudo consumir la publicación");return}await r()}u(),alert(`Propiedad ${v==="published"?"publicada":"suspendida"} exitosamente`)}catch(g){console.error("Error updating property status:",g),alert("Error al cambiar el estado de la propiedad")}},f=(d,v,g)=>{const j=[];switch(d){case"published":j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx(or,{className:"h-3 w-3 mr-1"}),"Publicada"]},"published"));break;case"draft":j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[i.jsx(ss,{className:"h-3 w-3 mr-1"}),"Borrador"]},"draft"));break;case"sold":j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[i.jsx(or,{className:"h-3 w-3 mr-1"}),"Vendida"]},"sold"));break;case"rented":j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[i.jsx(or,{className:"h-3 w-3 mr-1"}),"Alquilada"]},"rented"));break;case"suspended":j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[i.jsx(Qo,{className:"h-3 w-3 mr-1"}),"Suspendida"]},"suspended"));break}return g&&j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(vr,{className:"h-3 w-3 mr-1"}),"Destacada"]},"featured")),v&&j.push(i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[i.jsx(Ks,{className:"h-3 w-3 mr-1"}),"Urgente"]},"urgent")),i.jsx("div",{className:"flex flex-wrap gap-1",children:j})};return a?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando propiedades..."})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mis Propiedades"}),i.jsx("p",{className:"text-gray-600",children:"Gestiona tus propiedades publicadas"})]}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsxs(q,{to:"/add-property",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Nueva Propiedad"]})})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(hr,{className:"h-6 w-6 text-gray-400"})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Propiedades"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.length})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(or,{className:"h-6 w-6 text-green-400"})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Publicadas"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.filter(d=>d.status==="published").length})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(nn,{className:"h-6 w-6 text-blue-400"})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Vistas"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.reduce((d,v)=>d+v.views_count,0)})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(ji,{className:"h-6 w-6 text-red-400"})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Favoritos"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:n.reduce((d,v)=>d+v.favorites_count,0)})]})})]})})})]})]}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"all",label:"Todas",count:n.length},{key:"published",label:"Publicadas",count:n.filter(d=>d.status==="published").length},{key:"draft",label:"Borradores",count:n.filter(d=>d.status==="draft").length},{key:"sold",label:"Vendidas",count:n.filter(d=>d.status==="sold").length},{key:"rented",label:"Alquiladas",count:n.filter(d=>d.status==="rented").length}].map(d=>i.jsxs("button",{onClick:()=>c(d.key),className:`${o===d.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm`,children:[d.label," (",d.count,")"]},d.key))})})}),n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(hr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay propiedades"}),i.jsx("p",{className:"text-gray-600 mb-6",children:o==="all"?"Aún no has creado ninguna propiedad.":`No tienes propiedades con estado "${o}".`}),i.jsxs(q,{to:"/add-property",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[i.jsx(_i,{className:"h-4 w-4 mr-2"}),"Crear Primera Propiedad"]})]}):i.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 xl:grid-cols-3",children:n.map(d=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"relative h-48 bg-gray-200",children:[d.images.length>0?i.jsx("img",{src:d.images[0],alt:d.title,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:i.jsx(hr,{className:"h-12 w-12 text-gray-400"})}),i.jsx("div",{className:"absolute top-3 left-3",children:f(d.status,d.is_urgent,d.is_featured)}),i.jsx("div",{className:"absolute bottom-3 left-3",children:i.jsxs("span",{className:"bg-black bg-opacity-75 text-white px-2 py-1 rounded text-sm font-medium",children:[d.currency," ",d.price.toLocaleString()]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"flex justify-between items-start mb-2",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:d.title})}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[i.jsx(yr,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{className:"truncate",children:[d.city,", ",d.province]})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3 space-x-4",children:[d.bedrooms&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium",children:d.bedrooms}),i.jsx("span",{className:"ml-1",children:"hab"})]}),d.bathrooms&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium",children:d.bathrooms}),i.jsx("span",{className:"ml-1",children:"baños"})]}),d.area_total&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium",children:d.area_total}),i.jsx("span",{className:"ml-1",children:"m²"})]})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4 space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(nn,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.views_count})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ji,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.favorites_count})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uy,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:d.inquiries_count})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(q,{to:`/edit-property/${d.id}`,className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Editar",children:i.jsx(Dy,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>h(d.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar",children:i.jsx(Fy,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[d.status==="published"&&i.jsx("button",{onClick:()=>m(d.id,"suspended"),className:"px-3 py-1 text-xs font-medium text-red-700 bg-red-100 rounded-full hover:bg-red-200",children:"Suspender"}),(d.status==="draft"||d.status==="suspended")&&i.jsx("button",{onClick:()=>m(d.id,"published"),disabled:d.status==="draft"&&(t==null?void 0:t.publicaciones_disponibles)<=0,className:"px-3 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed",title:d.status==="draft"&&(t==null?void 0:t.publicaciones_disponibles)<=0?"Sin publicaciones disponibles":"",children:"Publicar"})]})]})]})]},d.id))})]})})}const ov=()=>{const{id:e}=Zh(),t=Fi(),{user:r}=bt(),[n,s]=N.useState(!0),[a,l]=N.useState(!1),[o,c]=N.useState(null),[u,h]=N.useState([]),[m,f]=N.useState([]),[d,v]=N.useState([]),[g,j]=N.useState({title:"",description:"",price:"",currency:"USD",property_type:"casa",transaction_type:"venta",bedrooms:"",bathrooms:"",area_total:"",area_constructed:"",parking_spaces:"",floor_number:"",total_floors:"",year_built:"",address:"",neighborhood:"",city:"",province:"",country:"Ecuador",postal_code:"",latitude:"",longitude:"",amenities:[],features:{},virtual_tour_url:"",video_url:"",status:"published",is_featured:!1,is_urgent:!1});N.useEffect(()=>{e&&y()},[e]);const y=async()=>{var C,R,V,fe,We,Ue,jt,P,L,M,J;try{const{data:O,error:Jt}=await $.from("properties").select("*").eq("id",e).eq("agent_id",r==null?void 0:r.id).single();if(Jt)throw Jt;O&&(c(O),f(O.images||[]),j({title:O.title||"",description:O.description||"",price:((C=O.price)==null?void 0:C.toString())||"",currency:O.currency||"USD",property_type:O.property_type||"casa",transaction_type:O.transaction_type||"venta",bedrooms:((R=O.bedrooms)==null?void 0:R.toString())||"",bathrooms:((V=O.bathrooms)==null?void 0:V.toString())||"",area_total:((fe=O.area_total)==null?void 0:fe.toString())||"",area_constructed:((We=O.area_constructed)==null?void 0:We.toString())||"",parking_spaces:((Ue=O.parking_spaces)==null?void 0:Ue.toString())||"",floor_number:((jt=O.floor_number)==null?void 0:jt.toString())||"",total_floors:((P=O.total_floors)==null?void 0:P.toString())||"",year_built:((L=O.year_built)==null?void 0:L.toString())||"",address:O.address||"",neighborhood:O.neighborhood||"",city:O.city||"",province:O.province||"",country:O.country||"Ecuador",postal_code:O.postal_code||"",latitude:((M=O.latitude)==null?void 0:M.toString())||"",longitude:((J=O.longitude)==null?void 0:J.toString())||"",amenities:O.amenities||[],features:O.features||{},virtual_tour_url:O.virtual_tour_url||"",video_url:O.video_url||"",status:O.status||"published",is_featured:O.is_featured||!1,is_urgent:O.is_urgent||!1}))}catch(O){console.error("Error fetching property:",O),alert("Error al cargar la propiedad"),t("/my-properties")}finally{s(!1)}},p=C=>{const{name:R,value:V,type:fe}=C.target;j(We=>({...We,[R]:fe==="checkbox"?C.target.checked:V}))},x=C=>{if(C.target.files){const R=Array.from(C.target.files);h(V=>[...V,...R])}},b=C=>{h(R=>R.filter((V,fe)=>fe!==C))},k=C=>{f(R=>R.filter(V=>V!==C)),v(R=>[...R,C])},w=async()=>{const C=[];for(const R of u){const V=R.name.split(".").pop(),fe=`${Date.now()}-${Math.random().toString(36).substring(2)}.${V}`,We=`${r==null?void 0:r.id}/${fe}`,{error:Ue}=await $.storage.from("property-images").upload(We,R,{contentType:R.type||`image/${V}`,cacheControl:"3600",upsert:!1});if(Ue)throw Ue;const{data:{publicUrl:jt}}=$.storage.from("property-images").getPublicUrl(We);C.push(jt)}return C},_=async C=>{for(const R of C){const V=R.split("/").slice(-2).join("/");await $.storage.from("property-images").remove([V])}},S=async C=>{C.preventDefault(),l(!0);try{const R=await w();d.length>0&&await _(d);const V=[...m,...R],{error:fe}=await $.from("properties").update({title:g.title,description:g.description,price:parseFloat(g.price),currency:g.currency,property_type:g.property_type,transaction_type:g.transaction_type,bedrooms:g.bedrooms?parseInt(g.bedrooms):null,bathrooms:g.bathrooms?parseFloat(g.bathrooms):null,area_total:g.area_total?parseFloat(g.area_total):null,area_constructed:g.area_constructed?parseFloat(g.area_constructed):null,parking_spaces:g.parking_spaces?parseInt(g.parking_spaces):0,floor_number:g.floor_number?parseInt(g.floor_number):null,total_floors:g.total_floors?parseInt(g.total_floors):null,year_built:g.year_built?parseInt(g.year_built):null,address:g.address,neighborhood:g.neighborhood,city:g.city,province:g.province,country:g.country,postal_code:g.postal_code,latitude:g.latitude?parseFloat(g.latitude):null,longitude:g.longitude?parseFloat(g.longitude):null,amenities:g.amenities,features:g.features,images:V,virtual_tour_url:g.virtual_tour_url,video_url:g.video_url,status:g.status,is_featured:g.is_featured,is_urgent:g.is_urgent,updated_at:new Date().toISOString()}).eq("id",e);if(fe)throw fe;alert("Propiedad actualizada exitosamente"),t("/my-properties")}catch(R){console.error("Error updating property:",R),alert("Error al actualizar la propiedad")}finally{l(!1)}},A=C=>{j(R=>({...R,amenities:R.amenities.includes(C)?R.amenities.filter(V=>V!==C):[...R.amenities,C]}))},I=["piscina","gimnasio","seguridad_24h","ascensor","terraza","balcon","jardin","garage","aire_acondicionado","calefaccion","chimenea","lavanderia","deposito","portero","salon_eventos"];return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando propiedad..."})]})}):o?i.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Editar Propiedad"}),i.jsx("button",{onClick:()=>t("/my-properties"),className:"text-gray-600 hover:text-gray-800",children:"← Volver"})]}),i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Información Básica"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),i.jsx("input",{type:"text",name:"title",value:g.title,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Casa moderna en excelente ubicación"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),i.jsxs("div",{className:"flex",children:[i.jsxs("select",{name:"currency",value:g.currency,onChange:p,className:"border border-gray-300 rounded-l-lg px-3 py-2 bg-gray-50",children:[i.jsx("option",{value:"USD",children:"USD"}),i.jsx("option",{value:"EUR",children:"EUR"})]}),i.jsx("input",{type:"number",name:"price",value:g.price,onChange:p,required:!0,className:"flex-1 border border-gray-300 rounded-r-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0",step:"0.01"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Propiedad *"}),i.jsxs("select",{name:"property_type",value:g.property_type,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"casa",children:"Casa"}),i.jsx("option",{value:"departamento",children:"Departamento"}),i.jsx("option",{value:"oficina",children:"Oficina"}),i.jsx("option",{value:"local_comercial",children:"Local Comercial"}),i.jsx("option",{value:"terreno",children:"Terreno"}),i.jsx("option",{value:"bodega",children:"Bodega"}),i.jsx("option",{value:"quinta",children:"Quinta"}),i.jsx("option",{value:"penthouse",children:"Penthouse"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Transacción *"}),i.jsxs("select",{name:"transaction_type",value:g.transaction_type,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"venta",children:"Venta"}),i.jsx("option",{value:"alquiler",children:"Alquiler"})]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{name:"description",value:g.description,onChange:p,rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe las características principales de la propiedad..."})]})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Características"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dormitorios"}),i.jsx("input",{type:"number",name:"bedrooms",value:g.bedrooms,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Baños"}),i.jsx("input",{type:"number",name:"bathrooms",value:g.bathrooms,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.5"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Área Total (m²)"}),i.jsx("input",{type:"number",name:"area_total",value:g.area_total,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Área Construida (m²)"}),i.jsx("input",{type:"number",name:"area_constructed",value:g.area_constructed,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estacionamientos"}),i.jsx("input",{type:"number",name:"parking_spaces",value:g.parking_spaces,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Piso"}),i.jsx("input",{type:"number",name:"floor_number",value:g.floor_number,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Pisos"}),i.jsx("input",{type:"number",name:"total_floors",value:g.total_floors,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Año de Construcción"}),i.jsx("input",{type:"number",name:"year_built",value:g.year_built,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1900",max:new Date().getFullYear()})]})]})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ubicación"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección *"}),i.jsx("input",{type:"text",name:"address",value:g.address,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Dirección completa"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sector/Barrio"}),i.jsx("input",{type:"text",name:"neighborhood",value:g.neighborhood,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad *"}),i.jsx("input",{type:"text",name:"city",value:g.city,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provincia *"}),i.jsx("input",{type:"text",name:"province",value:g.province,onChange:p,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"País"}),i.jsx("input",{type:"text",name:"country",value:g.country,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Latitud"}),i.jsx("input",{type:"number",name:"latitude",value:g.latitude,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"any"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud"}),i.jsx("input",{type:"number",name:"longitude",value:g.longitude,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"any"})]})]})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Imágenes"}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Imágenes actuales:"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map((C,R)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:C,alt:`Imagen ${R+1}`,className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>k(C),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"×"})]},R))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agregar nuevas imágenes"}),i.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:x,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.length>0&&i.jsx("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((C,R)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:URL.createObjectURL(C),alt:`Nueva imagen ${R+1}`,className:"w-full h-32 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>b(R),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"×"})]},R))})]})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenidades"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:I.map(C=>i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:g.amenities.includes(C),onChange:()=>A(C),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-gray-700 capitalize",children:C.replace("_"," ")})]},C))})]}),i.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Estado y Opciones"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),i.jsxs("select",{name:"status",value:g.status,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"draft",children:"Borrador"}),i.jsx("option",{value:"published",children:"Publicada"}),i.jsx("option",{value:"suspended",children:"Suspendida"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"is_featured",checked:g.is_featured,onChange:p,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Destacada"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"is_urgent",checked:g.is_urgent,onChange:p,className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Urgente"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>t("/my-properties"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Guardando...":"Actualizar Propiedad"})]})]})]})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Propiedad no encontrada"}),i.jsx("button",{onClick:()=>t("/my-properties"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Volver a Mis Propiedades"})]})})};function cv(){return i.jsx(Sy,{children:i.jsx(a0,{children:i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(Wy,{}),i.jsx("main",{className:"flex-1",children:i.jsxs(Xg,{children:[i.jsx(Te,{path:"/",element:i.jsx(Ky,{})}),i.jsx(Te,{path:"/properties",element:i.jsx(Gy,{})}),i.jsx(Te,{path:"/properties/:id",element:i.jsx(Jy,{})}),i.jsx(Te,{path:"/login",element:i.jsx(Yy,{})}),i.jsx(Te,{path:"/register",element:i.jsx(Zy,{})}),i.jsx(Te,{path:"/admin",element:i.jsx(Xy,{})}),i.jsx(Te,{path:"/become-agent",element:i.jsx(ev,{})}),i.jsx(Te,{path:"/dashboard",element:i.jsx(Ou,{})}),i.jsx(Te,{path:"/agent-dashboard",element:i.jsx(Ou,{})}),i.jsx(Te,{path:"/add-property",element:i.jsx(av,{})}),i.jsx(Te,{path:"/my-properties",element:i.jsx(lv,{})}),i.jsx(Te,{path:"/edit-property/:id",element:i.jsx(ov,{})})]})}),i.jsx(Hy,{})]})})})}Aa.createRoot(document.getElementById("root")).render(i.jsx(qu.StrictMode,{children:i.jsx(cv,{})}));
//# sourceMappingURL=index-vV84H0_o.js.map
